<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>文献阅读4</title>
    <link href="/2023/12/13/article4/"/>
    <url>/2023/12/13/article4/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>WRF模式中城市冠层方案及边界层参数化方案最优组合的选取与应用</p><p>在ＷＲＦ模式中，很多物理运动过程的尺度都远小于模式网格大小，这类运动称为次网格运动。许多科研工作者根据不同物理过程，提出了不同参数化方案来描述这些次网格运动，包括微物理方案、长波辐射方案、短波辐射方案、城市冠层方案、陆面方案、边界层参数化方案、积云参数化方案等等。用户可根据不同需求在namelist.input中选择符合不同方案，进行模拟实验。虽然目前这些方案已经能够一定程度解决了一些问题，但是对于不同条件下的不同研究区域，不同的方案有各自的优点与适用性，还需要不断的研宄和完善。</p><p>未完待续</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SLBC海陆环流文献阅读</title>
    <link href="/2023/10/31/SLBC/"/>
    <url>/2023/10/31/SLBC/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>看5篇论文，并且进行总结。优点缺点，如何进行统计，理顺自己的思路。</p><p><strong>《The dynamic, thermal and material structures of sea-land breeze circulation at the coastal of Ningbo, East China Sea》</strong></p><ol><li><p>海风的风向被定义为东风和东南风，而陆风的风向被定义为西南风和西风。</p></li><li><p>海风期间被定义为从海风开始到下一次海风结束的时间段，期间不应存在超过两次陆风。</p><p>同样，陆风期间被定义为从陆风开始到下一次陆风结束的时间段，期间不应存在超过两次海风。</p></li><li><p>海风期（或陆风期）的开始和结束分别对应于海风（或陆风）的开始和结束。</p></li></ol><p>以上是根据观测站的地理位置和观测站附近海岸线的分布特点确定的。</p><p>虚拟位温（Virtual Potential Temperature）是大气科学中的一个参数，用于描述空气的温度和湿度的综合影响，以更好地了解大气的稳定性和动力学特性。虚拟位温通常表示为θ_v。</p><p>虚拟位温是一种扩展了干燥位温（dry potential temperature）的概念，干燥位温是指空气在没有水蒸气的情况下的温度。虚拟位温考虑了水蒸气对空气密度和稳定性的影响。它的计算涉及到湿空气的温度、气压和水蒸气混合比。</p><p>它在分析大气层中的温度和湿度垂直分布，研究大气的稳定性和预测气象事件方面都具有重要价值。通过虚拟位温的计算，气象学家和气象预报员可以更好地理解大气中不同高度的空气的特性，进而改进天气预报和气候研究。</p><p>湍流动能(TKE，The turbulence kinetic energy)可以从边界层动力结构的角度反映边界层的稳定性。</p><p>TKE 可以用来评估边界层内湍流的强度和能量分布。 TKE 可以用来研究边界层中湍流的产生机制。湍流动能的增加通常与流体的速度梯度和不稳定性增加有关。在边界层中，风速的变化和不稳定性是湍流产生的主要驱动力。 TKE 可以用来描述边界层中湍流的传输和混合过程。湍流动能通常会随着时间和空间的变化而传输和分散，这对于混合、扩散和大气/海洋层中的物质交换非常重要。 TKE 通常用于大气和海洋模型中，以帮助模拟和预测边界层内湍流的发展和演变。这在天气预测、气候模拟和空气质量模型等应用中非常重要。</p><p>During the observation period from November to May, the typical SLB transition process was observed for 18 days in winter and 22 days in spring.<br>从11月到5月，统计SLB过程为18天和22天。（可以直接从风向上看海陆环流）</p><p>海风(SB)一般出现在白天，在下午最强;陆风(LB)一般出现在夜间，在清晨左右最强。</p><p>图4显示了冬季和春季SLB的高度不同。海风在春季环流时，环流边界可达1.8 km，最大U分量约为3.2 m⋅s-1，发生时间约为17:00。此时，西风带与海风(东风)相互消散，形成空中风速为零的安静风带。冬季海风上界零值区出现在18:00左右，环流高度约为1.3 km。陆风发展高度明显低于海风，春季高空零值区出现在6点左右，最高值只能达到1 km左右，而冬季陆风在400 m左右形成静风，夜间受多天气过程影响，盛行高度小于500 m。</p><p>WRF PBL方案对不同地形、不同下垫面和不同大气背景的适用性差异很大。海陆风作为一种次级环流，是由海陆热力差异引起的，受海陆温差、地理特征、下垫面和背景风的影响较大。因此，SLB的仿真结果对WRF PBL方案的选择非常敏感。为了找出适合上海地区SLB模拟的PBL格式，采用了11种WRF PBL格式进行了模拟。</p><p>结果表明，对于本研究研究的SLB连续发生(3天)，不同PBL方案对应的模拟结果与观测数据的吻合程度不同，如表2所示。表2显示，只有S1 (YSU)、S4 (MYNN2.5)和S10 (SH)方案的模拟在近地面天气、垂直剖面和边界层高度方面与观测资料一致。三种方案计算的温度和相对湿度的COR和IOA值均在0.88以上。此外，三种方案模拟的风速和风向垂直变化与观测趋势一致，模拟的pblh也与观测资料吻合较好。因此，由于其他方案只能部分匹配近地表观测和探测观测数据，因此被丢弃。</p><p><strong>《Adaptability evaluation of boundary layer schemes for simulation of sea and land breeze circulation in the west coast of the Yellow Sea》</strong></p><p>在中尺度数值模拟中，行星边界层参数化方案的选择与边界层风场的数值模拟和预报精度密切相关。</p><p>In this study, we use the high-resolution Doppler Wind Lidar (DWL) boundary layer three-dimensional wind data, combined with the model simulation<br>results, in order to find PBLS suitable for simulating the wind field under the similar climate background in this observation area.</p><p>本研究利用高分辨率多普勒风激光雷达(DWL)边界层三维风资料，结合模式模拟结果，以期找到适合模拟该观测区相似气候背景下风场的PBLS。</p><p>根据多年来的观测事实，日照沿岸的SLB环流十分明显。等利用DWL对黄海西岸的SLB循环结构进行了首次连续观测和研究，分析了该地区海陆风的发展高度、转变持续时间、风速、风切变等关键要素。在此基础上，首次在该地区开展了各种边界层方案下的SLB环流模拟试验探索。</p><p>wrf的10种不同的PBLS具有不同的风场模拟，这与PBLS湍流参数化过程密切相关。边界层格式是针对小于边界层尺度的湍流而设计的。它是一种基于集合平均的参数化方案。传统的PBLS是针对稳态设计的系综平均方案。边界层方案具有以下特点:1）假定边界层是稳定的，因此早晚发展变化较快的边界层不存在2）假设为水平均匀性，只考虑垂直湍流混合，不考虑水平湍流混合;3）未考虑湿对流过程;4）边界层湍流过程中未考虑自由大气中的湍流混合;5）集合平均边界层湍流特征的空间尺度范围。</p><p>The model adopts three-layer nested structure, as shown in Fig. 1, with a horizontal resolution of 27 km, 9 km, and 3 km, respectively, for the d01, d02, and d03 domain. The network dimension is 112 × 106, 100 × 94 and 100 × 103, respectively. The longitude and latitude of the central point (35.416◦E, 119.527◦N) are divided into 43 layers vertically.<br>模型采用三层嵌套结构，如图1所示，d01、d02、d03区域的水平分辨率分别为27 km、9 km、3 km。网络维度分别为112 × 106、100 × 94和100 × 103。中心点(35.416°E, 119.527°N)的经纬度垂直分为43层。（可以按照这个来参考划分网格，一般都是27,9,3的分辨率）</p><p>考虑到模型启动时间，每次仿真提前6小时。</p><p>不同PBLS模拟的温度、湿度等气象要素存在显著差异，因此需要对模拟之后的这些要素进行对比。</p><p>通过计算模拟结果与观测边界层风速和风向的平均偏差，并考虑垂直高度和时间的变化规律，对黄海三维风场模拟的PBLS进行了评价。（每个边界层的方案可以预测的温湿度等都是不同的，这些对结果有重要的影响，可以进行深入分析。）</p><p>根据天气形势场分析，9月11日，受副热带高压影响，天气系统相对稳定。日照地区上空有一个低涡中心位于贝加尔湖南部。其南部高槽自西向东影响中国东部，副高的稳定为SLB环流的形成提供了必要条件。11日08时，该区域处于高槽前方，受西北气流影响。20时，高槽过境受西南气流影响。9月27日至28日，日照北部有一个低涡中心从贝加尔湖向内蒙古东部移动。在南部，西太平洋有第24号台风“潭美”。西太平洋副热带高压断开。此时日照地区处于鞍区环流态势，无明显天气系统影响，为SBL形成创造条件。（不受强对流天气的影响是必须要说明的，可以不放图，但是必须要说明）</p><p>用10种不同的模式对边界层进行仿真模拟，模拟了30天不同高度的大气情况。本文用偏差来表示每一个模拟的准确情况。要知道某个高度上出现风切变，风向发生变化，然后产生</p><p>在500 m高度以下，大多数边界层方案的风速偏置突变发生在14-15 CST，而风向偏置突变发生在12-13 CST，比风速变化时间提前2 h。（意思是14-15点风速发生突变，12-13点风向发生突变）</p><p>在CST 04-06日出之前，地面温度比海洋温度下降得更快，形成一个相对寒冷的源。靠近地面的气流汇聚上升，形成从陆地到海洋的陆风。日出后，随着地面温度的快速上升，陆地的升温速度快于海面。陆地形成相对热源，海洋形成相对冷源。08 CST前后，海陆温差逐渐增大。</p><p>08 ~ 12 CST，边界层低层明显有从黄海西海岸向西吹向陆地的海风。从西南向东吹向海洋的风出现在1公里以上。12 CST左右，1000 ~ 1500 m附近形成海风环流，15 ~ 18 CST海风相对较强。</p><p>从夜间20cst开始，随着海陆温差的减小，海风方向逐渐由近地面的偏东风转变为东南风。有海风转变为陆风的趋势，在21-22 CST方向转向西南，形成陆风。</p><p>在沿海地区，由于白天陆地温度的升高，该地区的分层不稳定，并继续向内陆延伸。随着陆面热量的增加和海风的逐渐增强，不稳定区气体层厚度不断增加，并向内陆最近的地方延伸。然后热量增加减弱，不稳定区高度降低，海风逐渐崩塌。这一系列过程表明，当气流经过不同下垫面时，由于下垫面的动力和热特性的不连续变化，风和温度在逐渐适应新下垫面的过程中，会在新下垫面影响的范围内形成TIBL。</p><p>SLB在地面附近有两个局地环流。海风在白天从海上吹向陆地，陆风在晚上从陆地吹向海洋。海陆风昼夜交替引起的海陆温差(即白天海面温度低于陆地温度，夜间高于陆地温度)带来近地面大气的密度和压力差，压力梯度力推动气流从高压(低温)区向低压(高温)区流动</p><p>边界层参数化方案问题： 模拟中使用的边界层参数化方案无法准确模拟风速和风向的变化。实际观测中存在海陆风转换的现象，但模拟风场无法很好地反映这一过程，或者模拟风场可能出现虚假的海陆风转换。（这个才是本质问题吧）</p><p>浮力和风切变是边界层的两种驱动力，分别负责热驱动和动力驱动。浮力的作用影响云和辐射等微物理过程的变化。表面的加热和冷却引起边界层的热传递。感热能是热驱动湍流能的来源之一。风切变将导致大部分TKE的变化，并引起动能输运。紊流扩散方程表达了这一变化过程。</p><p>对预测结果的三个方案进行描述：GBM，YSU，MYNN2</p><p>GBM格式是一种紊流动能闭合格式，可以预测TKE。它包括一个1.5阶湍流闭合模型，该模型考虑了夹带层的影响，在夹带层中自由大气被拉入边界层。在夹带层之上是自由大气，没有或只有非常弱的湍流。在该方案中，边界层顶部采用夹带闭合法，有效改善了云顶的长波辐射散射以及地面与大气之间的辐射，从而保证了浮力生成的湍流扩散方程的准确性。海面蒸发会产生许多云，海陆热交换在沿海地区更为频繁。边界层由热量驱动。GBM方案的特点决定了它在有限的垂直分辨率条件下能够合理地描述有云覆盖的边界层模拟。它适用于模拟海陆风中由于辐射加热和冷却引起的频繁变化沿海地区乌云密布。</p><p>YSU格式是非局部k理论格式。该方案改善了MRF方案分层太稳定的缺点。为了解决梯度扩散不适用于对流边界层上半部分的问题，对局部梯度进行校正。在公式中引入项，使非局部地热对流将地表的热空气带到边界层的中上层。局部梯度校正项用于描述对流大尺度湍流涡引起的非局部传输。然而，沿海地区边界层的模拟应重点关注海陆热的频繁交替和SLB的特征。SLB的模拟需要很好地描述湍流流感热通量的变化。YSU方案通过局地梯度校正，增加了海陆风模拟中由热强迫引起的湍流混合，增加了热对流混合层的高度，降低了风切变引导下的动力混合层的高度。当边界层稳定由不稳定变为稳定时，扩散方程中不考虑梯度逆项。</p><p>MYNN2方案是在原来的M-Y 2.5级方案的基础上改进的。该方案改进了原方案中对浮力的忽略，改进了混合层高度过高、湍流能级过大的缺点，定义了长度尺度的表达式，提出了凝结物理过程，减小了混合层厚度和湍流能级，并在计算中限制了长度尺度与TKE的比值，提高了计算稳定性。(Nakanishi and Niino, 2004,2006)。MYNN2方案参数化了气压相关项，考虑了浮力对气压相关项的影响，引入了一组代表浮力和切变的闭合参数。</p><p>两种方案都考虑了边界层顶部的夹带过程。GBM增强了地面对大气的长波辐射散射。YSU方案增加了边界层中高层热对流的混合高度层通过逆梯度项。两种方案都能很好地描述由海水和海水之间的温差引起的热趋势。MYNN2不考虑夹带过程，而改变海洋对陆地的温度和湿度不明显，但海面对陆地的温度和湿度不明显，MYNN2方案在1400cst时的风速大于另外两种方案，这与气压和封闭性有关，表示浮力和剪切的参数。这个方案可以更好地描述动态和垂直混合。在美国也有类似的趋势。</p><p>研究的主要目的是探索WRF模式中用于黄海海陆风三维模拟的最优自适应边界层参数化方案。选取了10种不同的边界层参数化方案，并与日照市高分辨率风力观测资料进行了比较。结果表明，1）DWL和WRF模拟的TKE比较表明，GBM、MYNN2和YSU方案对SLB的发生时间、持续时间和发展高度的模拟更为精确。它们更适合于当时气候背景下盛行SLB条件下三维风场模拟的边界层参数化方案。GBM和YSU方案均能较好地描述海陆热差引起的边界层热强迫，而MYNN2方案能较好地描述气压引起的TKE输送和强烈的垂直混合和剪切。2）模拟与观测之间的偏差与高度有关。在800-1000 m高度偏差较小，而在500-1000 m一定高度以下，MYNN2方案产生较高的模拟温度和较低的模拟湿度，且偏差较小。在其他高度，GBM和YSU方案比MYNN2具有更高的温度和更低的湿度，且模拟偏差较小。3）仿真结果与SLB的过渡时间有关。日照地区SLB过程具有显著的日变化特征。但模拟的海陆风转变过程不明显，在11、14、19-22和02-05 CST的模拟偏差较大，而在08、12、18-19和23 CST的风速和风向偏差较小。</p><p><strong>《A new perspective on surface wind speed variation with respect to the contribution of sea-land breezes》</strong></p><p>Generally, the key influential factors of the SLB include two main categories. One category is the coastline distribution and regional<br>landscape, which can affect both the direction and speed, or even the formation of the SLB.<br>一般来说，影响SLB的关键因素主要包括两大类。一类是海岸线分布和区域景观，它们既可以影响SLB的方向和速度，也可以影响SLB的形成。</p><p>Specifically, the coastline distribution defines the comparative direction of synoptic wind, namely offshore or onshore wind, which both belong to shore-perpendicular winds. Numerical studies showed that high speed of shore-perpendicular winds block SLB formation, including diminishing speed, making SBW stall at the coast or thoroughly prohibiting SLB, though specific thresholds varied among different numerical experiments<br>具体来说，海岸线分布定义了天气风的相对方向，即离岸风或陆上风，两者都属于海岸垂直风。数值研究表明，高速度的滨向垂直风阻碍了SLB的形成，包括降低速度，使SBW在海岸失速或彻底阻止SLB的形成，尽管具体阈值在不同的数值实验中有所不同</p><p>Landscape is closely related to topography, which might enhance sea breezes by combining sea breezes with slope winds through elevated heating.<br>景观与地形密切相关，地形可以通过高架加热将海风与坡风结合起来，从而增强海风。</p><p>The  location of urban areas also belongs to the aspect of landscape.  Characteristics  of SLB may be weakened or strengthened by interaction with  another thermodynamic circulation, that is, urban heat island circulation  whereas specific effect on its sign and magnitude varies a lot as  condition changes.<br>城市区域的区位也属于景观方面。城市热岛环流与城市热岛环流的相互作用可能会减弱或加强城市热岛环流的特征，但其具体影响程度随条件的变化而变化</p><p>另一类是能够影响原位辐射和温度的因素(热力学因素)，如云、不同类型的气溶胶、城市地区的放热、城市化的热效应和海面温度变化的大尺度信号。这些影响因子通过对原位辐射或海陆温差(TDLS)的影响来影响SLB速度，后者与陆地表面感热通量的变化有关，是SLB发生的直接原因。无论这些影响因素属于哪一类，它们都与常规观测到的风有很大的不同。</p><p><strong>《A Numerical Study of a Sea Breeze at Fuerteventura Island, Canary Islands, Spain》</strong></p><p>我们的目的是研究海风环流如何在与主流气流相反的方向上发展，以及它在亚热带北大西洋东部边缘的白天如何演变。为了实现这一目标，我们分析了2007年4月10日加那利群岛富埃特文图拉岛沿岸由海风引发的一次浅层对流。这是不寻常的一天，海面上的风是西北风，而不是传统的信风(东北风)。</p><p>积云参数化方案是一种气象模型中的子模型，用于模拟和描述大气中的积云（cumulus clouds）和对流现象。积云是一种低云，通常形成在对流活动增强的条件下，例如当气体被加热并上升时。积云参数化方案旨在模拟这些积云的形成、发展和演变，以更准确地预测天气现象。总的来说，积云参数化方案是一种用于模拟对流现象的近似方法，通常在较粗糙的模型网格中使用。在高分辨率模型中，对流现象可以直接模拟，因此不再需要使用这些参数化方案。这有助于提高模型的准确性，特别是在模拟小尺度天气现象时。</p><p>无论是陆地地形还是海洋，PBL都直接受到周围地表的影响。Stull（1991）指出，非局部方法可以更好地解释林冠上方PBL的特征，而局部观点可能不合适。在美国大平原上空的两个对流边界层案例中也得出了类似的结论（Gibbs等人，2011），其中非局部方案的结果更接近观测结果，尽管局部方案和非局部方案之间的差异相对较小。</p><p>鉴于上述研究是在中纬度或热带地区进行的，人们应该考虑这些发现是否适用于加那利群岛等亚热带地区。因此，我们选择了五种常见的PBL参数化方案进行测试：两种一阶非局部闭包方案和三种1.5阶局部闭包方案，总结见表1。</p><p>此外，除了仅与Pleim–Xiu陆地表面方案兼容的非对称对流模型版本2方案（ACM2）外，所有PBL方案都应用了相同的陆地表面模型（Noah/UCM）。最后，所选择的PBL方案中的几个方案与特定的表面层方案相关联，因此，不可能对所有模拟都有一个公共表面层方案。因此，Mellor–Yamada–Nakanishi–Niino 2.5 PBL模型（MYNN）应用了自己的方案，而修订后的宾夕法尼亚州立大学/NCAR中尺度模型版本5（MM5）（Jiménez等人，2012）适用于其他模型。表2中总结了这些信息。</p><p>将10米风速、风向和2米温度的观测结果与模型模拟结果进行了比较。这些观测结果由三个常规气象站提供.</p><p><strong>尽管没有PBL方案在10m风模拟中脱颖而出，但非局部方案（特别是YSU）似乎获得了可靠的风模拟，这与之前的研究一致（Cohen等人，2015；Banks等人，2016）。</strong></p><p>we have chosen five common PBL parametrization schemes for testing: two first-order non-local closure schemes and three 1.5-order local closure schemes.<br>我们选择了五种常见的PBL参数化方案进行测试:两个一阶非局部闭包方案和三个1.5阶局部闭包方案。</p><p>考虑到参数化方案可能对模拟产生的高影响，我们使用了相同的辐射(长波和短波)、积云和微物理方案，以及相同的初始条件和边界条件。</p><p>为了描述观测数据与模拟数据之间的差异，我们使用了四个统计指标，包括平均偏倚误差(MBE)、均方根误差(RMSE)、相关系数(ρ)和一致性指数(IA)。</p><p><strong>这个是一个非常好的分析误差的方法，觉得比前两篇文章写的都要好。</strong></p><p>我们认为，由于内陆站的特殊地形条件，PBL方案不能代表观测值的变异性，也不能准确预测风场。虽然没有PBL方案在10米风模拟中脱颖而出，但非局部方案(特别是YSU)似乎获得了可靠的风模拟，这与先前的研究一致。</p><p>考虑到10 m风和2 m温度的结果，MYNN和YSU PBL方案都适合模拟该海风事件，MYNN方案在风模拟方面稍好，YSU方案在温度模拟方面明显好于MYNN方案。以前的工作已经得出结论，对于使用特定方案没有明确的建议。尽管YSU方案通常比MYNN方案表现更好(Smith et al. 2018)。考虑到之前的结论以及Arrillaga et al.(2016)和Huang et al.(2016)，我们选择YSU PBL方案来模拟这次海风事件，因为它是一种非局部方案，在模拟热力学参数方面具有非常高的性能，并且在大多数可用气象站的模拟和观测流量之间具有良好的一致性。</p><p>不稳定边界层和稳定边界层之间的区别在于温度和湍流特性。不稳定边界层表现出明显的温度差异和强烈的湍流活动，而稳定边界层则表现出较小的温度差异和较弱的湍流活动。这两种边界层类型对天气和气候产生不同的影响。</p><p>我们的试验表明，非局部闭合方案是最佳选择，YSU PBL方案与修正MM5相似表面层方案相结合是最优方案。</p><p><strong>非局部闭合方案会比局部闭合方案的效果要好</strong>(原因要讲清楚)</p><p>最后，我们必须记住，Jousse等人（2016）以及Gunwani和Mohan（2017）曾认为，WRF模型中现有的PBL参数化无法产生完全准确的结果。这种行为在以浅积云为特征的地区尤为显著（Huang等人，2013），这是富特文图拉岛和加那利群岛大部分地区的典型天气特征（Carrillo等人，2016）。考虑到我们的结果和Jousse等人（2016）、Gunwani和Mohan（2017）的发现，以及我们测试的时间覆盖范围有限，我们认为我们的结果对这一特定事件有效，但需要在其他情况下进行验证。</p><p>PS：人家还是非常诚实的写，模拟不能产生准确的结果，并给出了相应的原因。</p><p>日出后大约3小时，陆地的温度明显更高，开始变得比周围的海洋更热。这种差异加热改变了主环流，因为气流开始改变方向（转向），穿过靠近机场站的岛屿东北部（图6a中的GCFV机场），但也逆时针返回波佐-内格罗站以南。这种行为与Soderholm等人描述的在加热山脊上进行对流演化的低层流相匹配。（2014），其中向风流与峰顶下风的反向背风侧流汇合。Pozo Negro周围的局部水流也发生了另一个变化，西南部的局部水流穿过山谷向内陆移动。风速图显示，除西南部外，该岛大部分地区的风速都有所下降（图6b），在西南部，流经周围山区之间地峡的水流仍然很强（&gt;5 m s−1）（Jandía Península的地形见图2）。随着从海上到陆地的气流，由于两个表面之间的空气动力学粗糙度和温度的变化，对流边界层开始发展（Garratt 1990）。这在岛的背风侧可以清楚地看到，那里的PBL高度可以达到大约800–1000米。（分析的很好）</p><p>我们将背风侧PBL高度的较强发展归因于海风发展的差异。该岛向风一侧的特点是陆上气流，将冷空气从海上吹向沿海地区。因此，温差小于背风侧，导致穿透山脉附近内陆的海风较弱。然而，在气流开始改变方向后，背风侧开始形成海风细胞。内陆地区的供暖更强（尤其是波佐内格罗西南部的山谷附近），没有冷空气平流，这可能会限制气温的上升。因此，PBL的发展没有限制，达到了更高的水平。（+1）</p><p>在GCFV机场站达到最大风速的同时（图4a），两股相反的气流沿着岛屿轴线碰撞，形成了一个汇聚，产生了向上的运动，从而产生了浅层对流，这是这一事件的特征。岛上2米的温度明显更高（图7a）</p><p><strong>就是这两股风汇聚形成向上的对流，然后分析温度的变化，就很神奇</strong></p><p>海风环流对离岸气流的开始与风向的变化同步，如图4和图6a、b所示。</p><p>《Seasonal and diurnal variability of planetary boundary layer height in Beijing: Intercomparison between MPL and WRF results》</p><p>本研究考虑的PBL方案包括3个一阶方案和5个高阶方案。这些方案使用不同的参数来定义PBLH (Stull, 1988)，如体理查德森数(Rib)、梯度理查德森数(Rig)、湍流动能(TKE)和虚势温度(θv)。</p><p>大气边界层的四个阶段：PBLH通常具有显著的日变化特征，与太阳辐射的日变化相关。边界层的日变化大致分为四个阶段:(1)近地面浅对流边界层(CBL)形成阶段;(2)封盖反转层突破，CBL快速生长;(3)发育缓慢且混合良好的CBL;(4)由于热对流的衰减，地面上形成了一个浅稳定层</p><p>《Bay Breeze and Sea Breeze Circulation Impacts on the Planetary Boundary Layer and Air Quality From an Observed and Modeled DISCOVER‐AQ Texas Case Study》</p><p>海风/海湾风环流是由陆地和水的比热差异引起的，其强度取决于水体的大小、深度和地理环境。日出后，由于地表加热增加，陆地上空的空气会比水面上空的空气变暖得快。这种热空气最终会上升，使较冷的陆地表面空气向内陆移动，而较温暖的海上回流可以在上面经历。这种离岸流动今后将被称为回流回流(Tijm et al.， 1999)。日落之后，陆地上空的空气比水面上空的空气冷却得更快。最终，一个反向的陆海空温梯度将产生近地面回流。这种凉爽的陆风会移动到海上，取代温暖的空气。白天的回流气流和夜间的近地表陆风都具有内在的物理和化学特征，一旦经过水面，就会暴露在海洋环境中。</p><p>这些复杂的陆海风环流的数值模式模拟，包括其强度和内陆传播已经在世界各地进行了研究。研究发现，它们在很大程度上受盛行天气流、陆地/海洋表面温度、地面风以及土地利用和土地覆盖的影响。</p><p>WRF - Chem运行了72小时的模拟周期，并于2013年9月23日06:utc进行了初始化。</p><p>YSU是一个非局部闭合模型，这意味着它不仅考虑相邻单元的通量，而且考虑垂直网格中其他单元的通量。因此，在对流条件下，非局部方案更能代表垂直混合(Hong et al.， 2006)。YSU方案将PBL顶部定义为感热通量达到最小的高度，并在接近零值的临界体积Richardson数中确定(Hong et al.， 2006)。</p><p>使用臭氧和相关化学示踪剂模型(MOZART)来代表气相化学和气溶胶的全球臭氧化学气溶胶辐射和传输(GOCART)模态方法，WRF‐Chem的化学包在所有领域都被打开。化学物种的初始化学边界条件来自MOZART第4版全球模型每6小时的输出(Emmons et al.， 2010)。在WRF - Chem模型中，使用自然气体和气溶胶排放模型(MEGAN)来表示净生物源排放、气体和气溶胶。</p><p>统计分析用于评估WRF - Chem模拟的每小时气温、风、海表温度(SST)、O3、NO和NOx之间的关系，并由CAMS近地表(距地面15米的站点[AGL])和2013年9月25日的空中测量观测到。统计参数包括确定模拟与观测之间线性关联强度的相关系数(r2)、计算模拟与观测之间差异的均方根误差(RMSE)、平均绝对误差(MAE)、平均观测值(MO)、平均模型(MM)和平均偏倚(bias)，以描述预测结果与观测结果之间差异的大小。</p><p><strong>案例分析的顺序如下:(1)气象观测讨论;(2)空气质量数据分析;(3)应用WRF - Chem模型提高对复杂沿海地区PBL时空变化及其对城市空气质量影响的认识。</strong></p><p><strong>这篇文章可以写到本子里面，这也是我做这件事的意义所在吧。</strong></p><p>因为更稳定的海洋PBL应该使气溶胶保持在较低的高度。</p><p>在这些情况下，必须仔细分析在史密斯角等沿海地点进行的地面测量，因为在任何时候进行的测量都可能表明海洋边界层或近海污染运输。此外，数值模型模拟必须能够区分微风和离岸回流的空间和垂直分布。在这些情况下，使用诸如遥感激光雷达或云高计等剖面仪器对边界层进行连续监测至关重要。</p><p><strong>数值模式模拟的用途有两个方面:(1)解释涉及回流和海湾风之间垂直分布的机载观测(图4和5);(2)随后分析WRF - Chem在复杂局地环流影响下的恶劣空气质量状况事件</strong></p><p>结果表明，模拟的YSU PBL在陆地上的高度低于观测值(表4)，并且通常伴随着对白天近地表温度的低估(表5和表S21)。这表明低边界层高度可能是由于对地表热通量的低估造成的。结果还表明，陆地和水面上的白天模拟PBL高度存在明显差异，对墨西哥湾上空的模拟PBL高度估计过高，有时没有相关性(平均偏差为- 1.7 m，相关系数为0.09)。与陆地测量结果的高相关性和高平均偏差相比(相关系数为0.82，平均偏差为- 384.7 m)。与浮标数据相比，墨西哥湾模拟PBL高度的略微高估和低相关性与模式对海温的高估一致。</p><p>模拟和观测之间臭氧混合比的差异显示出强烈的日间/夜间趋势。虽然臭氧在夜间很大程度上被高估了，但实际情况要少得多。</p><p>观测和模式模拟的独特结合阐明了环流状态及其对沿海地区空气质量的影响之间复杂的相互作用。</p><p>使用WRF - Chem的模式模拟显示，在模拟PBL高度、近地表温度和地表臭氧混合比方面，与观测结果总体上相当一致(表3)。然而，海风/海湾风的开始模拟时间比观测时间晚2小时。</p><p>然而，这些研究只使用了特定的PBL方案，并且没有解决不同PBL方案引起的模拟结果之间的差异。与上海SLB数值模拟相对应的最优WRF-PBL方案尚未探索。为了了解SLB期间的污染物扩散模式，需要准确模拟大气流场。一个合适的WRF-PBL方案不仅可以准确地模拟风场，而且可以提供SLB发生期间污染物扩散的重要信息。</p><p>SLB是沿海地区由于海陆热量不均而形成的日周期、日风向相反的局地天气系统。SLB环流主要由海陆温差驱动，其强度与太阳辐射强度呈正相关（Azorin-Molina和Chen，2009）。当海风在海面附近形成时，通常伴随着风向的突然转变、风速的增加、温度的降低和相对湿度的增加（Dudouit-Fichet et al.，2010；Khan，2010）。</p><p>由于SLB的主要驱动力来源于海陆热力差，并且受近地面风场的影响很大，因此模拟的温度场和风场对PBL方案非常敏感。近地面气象变量代表低边界层的天气变化过程，这对PBL方案的评估很重要。因此，首先将近地表观测结果与预测结果进行了比较。</p>]]></content>
    
    
    
    <tags>
      
      <tag>海陆环流</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRF系统安装</title>
    <link href="/2023/10/18/WRF%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/"/>
    <url>/2023/10/18/WRF%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="0ab428d679c1cf12e6c81c752083eaa5500b9b87bb544d895143ed1ab4ff9e1a">31dfc10ab2ea1dabbf2b494e2228a9ae98848efac5b6968caab7924fddccef828e075977f419d47f7c86b6848824459ab8061068485662a58b9577b0b52e409ff327387660dcc894256767c4551fb3f93486756e16a89e691b6bc7262c507767386d6ffd2a52e71108c669015c854a86cfe1cbfb5f78170eac41f0f0249415c59c0d33f5e9ee4891486ddd287129a0fddc2ebf4e661607225e9f3ba33527f9a8b8cc36aeca1cb1fe216db5c77ba01478cb47b8c473bc083bff3ffc8788436c52270f76976ac304b69212c579c1d202b105dad96902578087619fee348d42866e788ffd1c322fd42a3a1040505de646b96feebab061108df80a0ea7ea291dce4ece6ade0a5bf640cbd1c9ace51d90516d6ceec0313b17383bc771b46b9f9023b2f8a1e76101ec59f7040f935c8600d12b90abed9f0d4ce54c3d4d6ee584a975b27e77d00fb7c8ca72f4971159b2c9b2e507a38aa7f0a88ba5e5104eff698856626e67427a534e8d111bff5b5aeba7bd4aa5859c7321ca17ac9a6ecd0c0f8123426226a2fdeea5190af5605de90b006724b2872b677c26204dddd773b0c97d611b6659943b341ad9a976cab5173fa1aaf3591d24e83370b0ac5f5f6a71dbe93f87bf356636623e012b19a1cbd077a92b1c929a31c21cd80b5aa4a46cccab306bf7f4385fd8f19f20b4ee74b149635d77ae3e3258a09e8cc23a27f46b22ffb9322573f8185088688a9d3a9400429adf6fc0c7a0c3ce9b82fe046ed1d5084857aa211d11ef9554c560611ad28424352a130582be2d711ebd283bfc1cdf45a04b363500cbc4d2da97ee51573cde58fa21bc005ee908eda383fbb03c22bca3cf222a59b7a86e92b4b25b7302e02861142409b258820909815a2bf1fdaa41c289d31e20cbc4f74c7bebd626e852388a7ee5867d2fa578fe30132815854284ecc00c12d4996e271eae7d036d4197c90bc7a162d3369afd656c4ceae1a56934ccaf3a703d4280f1a6af1e2fe53eca1fdfbb2f9290b08dd70c376371cb9aaeababcd73fba58ae2f1158b664ee35342ee21b979558cd1b15adb3bd8cd27c87cc1405d101a573ebac647b8a0249fbfd5593fb6e58188ef68fe37c2ab4804202d7127702453c58b2424a6156f3d601016a10dd61845be431dcba5de53d8b006739e5b29800d9c0746e6d3c9d00e96ade13c643df2c8e59765e9ca55d6b015212a919ec348dba44e08387887ed8aaf49f81244a97712d6e316fe329d7f7e90a16969e66eaa5de5db99c09a8d5fec352c208409ea15dd38cc10e511f0780780ac182e5f2931aa5b66c3478fa4de73d886a35941bc6d6bc71cacf48658f703430da547c0cc1c0572639679e8d21b43773549cb9dff5f18e6fb5380b973f74accd758789b27039b5279b29ad901de48ed01a0803da202b1d9b38369746d0daefe5c09ffc0064126a8a47d9e261dbd9d9699a5fb78157ee21180ef52144e5ddaac6710e2aefacaba9619fd8d7143222dfec6703abe7c62de6996fabc70e040b02dca9fd981cb3eb79ea6a260e09e1c880e77f0b064eb50c3815a55fc1309a9d2f6ee9764d9b8060f5d0b0173624813341d254ccc620f08d0a780ab79d97eaad51fc2ae325bb15f1df6ea0591a896708c9ebc659dde89d9766a5739e2c35e1717c26b3f44c1f38cdd38c1c185b6c13a397657bd2cc6e3f9056c96055764e31151cd7cdf3b0ba2696f32b139b0c39e497fc0d3a76c68869556680aa5e05a652c8412b43498add4cb6a7f3524d938979e5bb52e1e640f2bd5265b7bc1161f6b1c779684860babede44ef8c25e39e2858198e899073755389745ab7dec25487aca9dc384d1b060abf54f445588420d1ea80ea209bcca42a6bf8af54aa37d816a37939abcbe386d2181782c5cc45c40112d80ca377bd09e7cc9918d8b5ab6561b83c260e1c6962a99e521b942f93e1b678ed2c89b970e8bdbf8344cd1fc560cad8348567d2bc72edb416e540d41b96079938d44d8f005eba998ec4e2b9e755d4f5545deac802d21a797b4aabe914a70d09ed6fe814834971ff32284c84498ab53e4ada703f9f42c938887466c45391467aa5965213fb6e1e0a88d608f538a1d759497358e952fc25c4ce0f9e19bf6e5e800c48a5ccd3973336649a9fc37ca684e40825d1b70839e50be62ca4a7dc69a0b552ae32f8b265d14c260cf7c719cfb3583243c031cc4cca136962ad655f4dc6cc4e855bea0272cf683dc83f9f8d02480c40991041986b1692c2aa7c3b328e4a5adb5a6bffc9b2a175bbb8a9118ed44d56b56d9de13cf05d971ead4d3f8cfe66fb04b58f789a9d50a403aa4ff04941a2f07be50f698926dfc3f564ee36a71ae05be3494830c7976cbd656cbedbf14c9fa9c40486bbcffb2568d2ab57803b79c733d5129828c01fb9e0b92a87fdb69628cca7e3469b87d8e3b745a191d2978a05223729fc19218805821e02019cee72d6fbde68bd848f3c22f3027a7ec564c573d0b2cf43f1a76eaf72c1e170165e69a9ba8092e3234972cd8b0791485162daa25ef9b407af18463ef2ff98e686d903dbb88ccd4c1a64d196b3b2da10eb6195f2c287ad6931ca01d7b14617aa3bebfde54a057cfbc41f103e0946c084faff30a78619500ef0051f6e384fa925200ba7115753bb9f768cbe77859d20667b4e4cc5b8edf5642eedf1fc5254622b7106407f0079583380de6b377613f30574eb573fb82f2d5eb8d7bede09022ae2b0278520c03ad4de5eab0cfa8c11fcf9cf75f1c6f747acd386627e3e58f8ebef8833e5f815edd3f1456c298bd62f635ad490b986f5b9f73984cc9610fdcb28bc14d9b1caefa8e6b967b8e0218e61485d9c17fa790ba178bef98e2d7b700cca55b8171084cba84a38915a3a96bb8447fb85adc243fdd1330305b99acd30a124bd7cfbb94a565730227241c6de9adc94ed678f11738c15207d9bc53ef433a622eb4f4328f07e656d122ea1e778713b2432d3c8ba3d43064db05495221b1fec2481d295d4000363e8a8ce6dc2c0516b3dfee7d022e0789276a36f524b1cf832c281b210f80c8c722c95513096dd2315c22a438fe3f0c881b5774f44dd97752b2e13b39286af623fba6b12f4222d8d80093fc5cdd5a119b2ff41dbfc4de553ab7325c7ef301126586d06031a78070ea5cb1c52c0650aa6eb61ae3abd9a21910ed882c02bb516fca44367d6316018c3f302cb14a3eee769871625dda44320eb6531138d63bb02c39bd0e000a6839e32b1dc473ab061c499c7bb3f71b3c8f2cc5b6fe45edf4e86384103aa3b6e8cc2077c9a0ff4e304ed0f58e3c42986b9ad3edaced2858f3db9be63883e80f9802b3a28960de396f3608dcc22e73cd358542ce3ffb0cbef214e363184cc0dddea5af46fd09845725c12cf5fcc04410a3380b36715713724b8350db5e7b540a103e3b15a2427a6a105b3baec06820ba5a4882c1019039c404fef6978ac3d2367195cdc72e17ac157f535abe28410b714ee6f8388c684dff7e7257039a764d8709ff4374121248ee34eb1eb8401e16d1737182e563da917d68d4f45df98655698c918d5cc732f84e17c08ace782332aea8ea603ebfd68ea0f34f5140ab84bcaf96d0f9da4f56789f6fbd7c33fbf6cb2176eed52c6afca670540afa0e965d8779dc1fe80ff75fdedd532303feef630bc2c41c9e79a2501a8292e9d50f45438616563560f2d0053771c115fc74148d8f1b760b4abc7627c0009957f69c262c64ec41d63749bd6debc2d6c8543a0b7fc6344a55702b436d7f61b2949f51cadc1ac15f34137599c454f01056e56d70a9f4afac46b8a71e7985add9aff916c6abb0db12d040e865fb66d365c9516c2d2f721056e5adcad5c4f67755af56dd4db2acf672e5b790199070c4ac835d034363ac5c9327c3ba0a32c8607946c8b14f836e37916b408692c55fd061d7e52ff2ae1c2a4a912451ee3b1b212fe203f7e75266443b267b82181fba891a70f4f57bbc93672be0b37a0a36996736194154e218b2ab2ddde148bcda7c358a6e2f423d5ad8d39513d0890cdafc6e703fb699c56a6a433bc768cecd690f4b96e276afce3ec3aa6bb464d834dfa59a6b641b6907f567ebcfe7793386ca473207e327372b07edc671def818b9f55aac0d2b0ccc8e1fbb08ab152779d6c50697d0d827f8f31485db8430bf33071ed79a7fa5866006ed6256fcff6780176f91695f819c1dd62c74a480e6e861f9401b0bb7df2f51a2501c2c9a9966f032c7adba4bcc8974390a231c7170d9f699afa03b2ad4f50eff813b7513b2f0827a482b59b3d46f3ff63616bbdbc66d5b0a57cf3f9c28b82412ce9f453f307ef3c51aaa16597179b8f2a328e8155e0e5cdc40d169cce23495a6e60c5a795fbba1d656e38e06be4051b3f4de5dd6c516486ed14fade881b97da7f06b6099c215aba4c7e0f7a59692010fc068ae6a9dd81e5b3659501d97b52553405de4391e55608a0fb46016a9645c27b6595908045c546911d087c2e045e5db97eadd88beb786e88e8de4e89dd6cfa710b95a656b58cab21cc9a33e110cc0105d06842ccff6e32083bd98e69166afbd432b0cc985472a518b77f51d5d3d05321641b6eef64cfdf8882213764becb538dd11b145b9e3b6114c89542d9c764d786f22aad34daf63cf2f3d7639f8be98988a6dd8f02c33666eb6e3635772fc522caa57c3dbe9c57e63c3bc7afb5017a58aae106182fa1d61c068fad098f61321dc9a5dc201af970b655f590c589f4f0579251b9e9bc99092e2a0171614eaa6ba5654dd7381ec280db5bcbcf4e8cb94807ae784ed04aba96293d07b785fc9fa9d277ed920c2db815c648783844674661788dfd9de5d2b1c9cc8acbd2a6ced248d75f9ca2b263483e379d666bb69928209dd5b4c941dac4083722794e976bd5c84df84492f178528b7809965bbca2b77805ef6c34e336a257c2ed4dd471a67509396981d562adc98384afb4c1f119f7c6a7acd580f741d926f2b60274364a34ccda53199f396e2ddc153273f18d12586b29636878492c67b923f4f72bbaa8b5289ac7cbf19a9afa5527e341e5cdc158f70bddd967e63e1d146b7230f7aa3a299a788eac58e52c784e3e639a7ff96e372c4e317b9f96d07876f8227cac1d5f2d6fb872137042d3dc24474992a42e5903b995ef675f6ba61caf8934b3e6734ed680c54442f63bcf25b84127b19c9bb8e1389655457eba410e36ababa511e8bca6f83f02a76f858c52fbf69c4e215c7318d21eee304408434d764c934204eee71af6683261736be99aff2b55687b91ec719262a21a68e245e7a973df840637159c9ca60c568a7ca94812cf61d3e23b3ed73d1227c0f761e362c996f40ffc8b5d2e672405ac6c717562784a6cdc5e3c63d537f9b84e37532b83107aa015352158e1e37d7cb4c85c679ac77ebe215b39cd1d0e1d700bff993b24a7f0788172f862348f1da3839b52c048e1715764a6b2325de2ac0e64b1ae6c1f081e8f839b55c7d21c0489a01545f8be355d2c68ffcfc8c06c92745e1fe90d0eb8ab981c4e023c2ecaab0488bac48c29ad06263e16bb177495e187b98bd6ed266fa7e2b52005040f1578c3b128a3c8ebba58ba34688acac8f00b9b5d51202404595266e97a70f76ea8f4a148115dabb225bcea7f0be9dd2987b3df2cde93c062c050d07369601bc9048eeae301b41292d0b5f25abd3f0f8a1335b5681190c2cac143c209219463741b73a51607a8a71197dd5fad04d49c2d4d6b260dbc604f2fb5129dac836dde485473b12682291fcc2d7f806dffe7893d7699f37c2b99b97814cf57cf77b01ad44e5a9fe063163f43e3090a4a8086387c984e917628993cf992408c5a9c6ee165d2733b39081dab536325b7ee87ca7920321e3b2c944163de441f1a2bb93e3c76245f1d543253b396f35028f7689854234de9acf781e401ebcbb3b0152f23f703a0fc10682e0b5edceb067f4c0629adcc2d42c3c16d0c3c82e6bc732ce6a0b725d73630ccbff3ceac85da49957993d0e73e63234a16a242129debcf73d1f0e36c612079a2cae06e13a58b5e852b8e4db63462e62f4dc3e95a59194857e9f4534c167037535373825401aa68507b36e45ed09a97ae11293dc54f22c0bbf5e33519bbdea58cc2f53cb959a62314d5bccdb524c84d5d56b80da155dd86b0fe3b597be7b90aa99f4d7e1cac1740821b092c6409ad85c9d88cc965557900ce172da7359621acf81071a370cb77c7ab359581f56a01ebf3b7aedd764e8f51bfd4255ad16e2d651ed43a1336891b6a7b7abaf5b7f7f162c7a106c77858209d4a817bbbd33fde808dddb4993b9c8684f29752ba60f121cc00735a1555d3668f09784c4ce494ebfdf6a42d00be00d22b9135a3d2e78a8f6d119620241ba3ffe643259dfceb9aeb21ea61f9ada898eb740dee655a81bb55cfcc3e86b9eff2a57809cb8a1757a399ae6742a3516a07108318312df96866eefa7036c589716be7057394a36b1e487f1583b3b86ec0d239c327195f2621c731fd289c67787ebf873ba20ed65c8fc00f57f6e017b5bad6908a3f9a27b66b21042873c19aa58cdb656f1f3c7c0c05698b27b714db04d5e217e2fdf7d1dc5bc080182f2d7b69f5c1389e2c5c9f21e1ac0e9ad0c6a8d984931bcd7fb2fb2686148c4341083f557e6d434a00a80570b5df914a206fd1eb814bc163d9c02042cb156d11e24733960ce35fa1ad7524adbf3f04c5d250cd125163073685c1a95b096364b108f231df2857c78c93366bab93ab5ea6ebf5bf63ffa8d8f374aa0ee6751e91b1129429125e12b4b78c312a9376577c85841f86a625d38794c21e7bf9e40e96e57eb1cb370e753380320e4083230565e6c87816bf6141e091cd3fe044786657d016c341dc367e01d059fc2e2200c599ccccbe95e39959d1496bf9a32de43d2ae44fccdd0b828e950ebdda5ba9021eca7687834e0eea06ec3d0a3e0bf30c4f228bf6b1c3435d2471205b230be0414206f1b8ba8c76811dbbb9d6c777416aa0c7736187a9c454ca5558d76974839f46c8afd20f345acd8500fafe9853bd66eb67fad83fd418a24f2dd654287aa95188cc30e088d3da8123ed0811102285b4d6b7b24b4932dc98bce59cd65d10a4b0117e8e7c3b93ec124408164facb9b575c7c99eb2249f185c1e9c4ca</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码查看文章</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRF-ERA5</title>
    <link href="/2023/10/13/WRF-ERA5/"/>
    <url>/2023/10/13/WRF-ERA5/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>本节实现的目标是将ERA5的数据嵌入到WRF模拟中。</p><p>首先是批量下载ERA5，这个因为以前做过，比较熟悉。</p><p>网站：<a href="https://cds.climate.copernicus.eu/user/register?destination=/%23!/home">https://cds.climate.copernicus.eu/user/register?destination=%2F%23!%2Fhome</a></p><p>链接命令：</p><p>ln -sf ungrib/Variable_Tables/Vtable.ECMWF Vtable</p><p>ls ../DATA/ERA5/*.grib</p><p>如果没有权限，用chmod +x （命令）来进行设置。</p><p>链接成功后会出现GRIBFILE.AAA和GRIBFILE.AAB两个文件</p><p>然后运行./ungrib.exe</p><p>interval =21600 间隔为6h，所以在namelist中需要把时间长短调成6h。</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRFexample</title>
    <link href="/2023/10/11/WRFexample/"/>
    <url>/2023/10/11/WRFexample/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>想做的第一件事情是替换下垫面。开始的时候总是用Arcmap打不开。也不知道原因是什么。</p><p>今天终于弄明白了，直接在对话框右键添加数据就可以了，链接一下数据库。然后直接构建金字塔，就可以了。每一个步骤先保存下，以免以后忘记。</p><p><img src="/2023/10/11/WRFexample/image1.png" alt="Alt text"></p><p><img src="/2023/10/11/WRFexample/image2.png" alt="Alt text"></p><p>右键，导出数据，设置好文件夹，变成tif。</p><p>重分类参考actoolbox里面的分类。</p><p><img src="/2023/10/11/WRFexample/image3.png" alt="Alt text"></p><p>一步一个坑啊。</p><p>krasovsky_1940_Albers怎么转换成wgs-1984</p><p>投影坐标转换是这个样子的：</p><p>两个投影坐标系本身基于的地理坐标系是不同的，即地理坐标系的采用的椭球体和基准面都不相同，无法实现直接转换，可以通过如下方式变换（以栅格数据为例，矢量数据思路类似）：先通过arctoolbox——data management——projection and transformation——raster——project raster将krasovsky_1940_Albers投影转化为krasovsky_1940坐标，再通过arctoolbox——data management——projection and transformation——define projection将krasovsky_1940坐标定义为WGS-1984坐标，最后再通过arctoolbox——data management——projection and transformation——raster——project raster将WGS-1984坐标投影为wgs-1984-utm投影即可成功实现了。</p><p>先通过栅格转换成krasovsky_1940，然后定义投影再转换成WGS-1984。需要两步啊，一步实现不了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>wrfout</title>
    <link href="/2023/09/28/wrfout/"/>
    <url>/2023/09/28/wrfout/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>WRF小白到最后的数据处理。</p><p>wrfout 里面有很多变量，是需要诊断的，不是直接输出。需要用函数提取出来。</p><p>看季节平均，月平均，可以用ncl进行处理。</p><p>wrf输出是根据地形所变化的。第一层是在eta层输出的，不是等位势面和等高面的。eta是用0和1表示的。</p><p>如果看500mpa的温度场，需要经过差值通过换算，然后才能绘图。</p><p>WRF是一个格点，模拟值是每一个格点的平均值。观测的时候实在一个点上，而不是在面上，观测与模拟经纬度最近的一点，涉及到坐标索引的转换。</p><h2 id="1-计算"><a href="#1-计算" class="headerlink" title="1. 计算"></a>1. 计算</h2><p>· 读取，合并，基本计算<br>· 垂直差值，坐标索引转换。<br>· 诊断量计算。</p><h2 id="2-绘图"><a href="#2-绘图" class="headerlink" title="2. 绘图"></a>2. 绘图</h2><p>剖面图 </p><p>WRF ARW POST grads</p><p>NCL-pyngl:不更新，但是基本可以满足要求。</p><p>MATLAB：大，不开源，不太方便迁移</p><p>Python： wrf-python </p><p>numpy pandas xarry cartopy basemap(停止更新)</p><p>Meteoinfo</p><p>R,GIS 比较专业地理绘图，投影丰富</p><p><img src="/2023/09/28/wrfout/image-1.png" alt="Alt text"></p><p>NCL和python</p><p>T2：(LON,LAT) Interpline 经向和纬向的分布</p><p>TK（LON，LAT，P） vertcross 经向剖面 纬向剖面</p><p>dim_avg_n()用于计算均值</p><p><img src="/2023/09/28/wrfout/image-2.png" alt="Alt text"></p><p>想清楚自己需要哪张图</p><p>后处理要处理什么变量，要怎么表示。</p><p>技术永远是简单的，要懂原理和框架，才是非常难的。</p><p>点：观测与站点的对比图<br>面：二维和三维的面<br>    2D 地面过程：2m气温填色图变化， 风速， 海平面气压，湿度，边界层<br>    BOX：看垂直结构（边界） 比湿 位温 位势高度<br>    4D： 时间变化</p><pre><code class="hljs">由点到面去分析，由空间到时间分析多尺度的作用和分析确定这些之后，找证据支撑，数据→可视化→分析</code></pre><p>原理搞清楚了，技术多摸索基本就搞清楚了。</p><p>关注背后的原理，为什么要后处理，要处理什么。（第一性原理）</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>文献阅读3</title>
    <link href="/2023/09/27/article3/"/>
    <url>/2023/09/27/article3/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="b79a4fbb41bb2c669f6761ef29d0f10c9301b4da668e9c4ab7334e0745d45a71">31dfc10ab2ea1dabbf2b494e2228a9ae98848efac5b6968caab7924fddccef828e075977f419d47f7c86b6848824459ab8061068485662a58b9577b0b52e409ff327387660dcc894256767c4551fb3f93486756e16a89e691b6bc7262c507767386d6ffd2a52e71108c669015c854a86cfe1cbfb5f78170eac41f0f0249415c59c0d33f5e9ee4891486ddd287129a0fddc2ebf4e661607225e9f3ba33527f9a8b8cc36aeca1cb1fe216db5c77ba01478cb47b8c473bc083bff3ffc8788436c52270f76976ac304b69212c579c1d202b1951d2b90a700258b234bfd465a104a6cb85c02dc03fde44d29a2f04d6b1e49c6b11bb78eebf4db4d7c252f8f1b8b1ae6ed3704fff39e7961c16179d9f04e09117b08f2eb65264c8f38681be3f06e2bd21762ce57d1f2034fd3b1e0b7f03b7db7fe5eea929110fb6b778b5575e8b848c9ff440be3ad9b12da7ed446f672ca3a7c7e3c55610ec326094b0f0b812a146970a251d18a357363a3a2305ff6517873481153d572a39b75f38b6dd20720cc77b11b3a0826625e3a912d3f579e3cddc6ec869b0db4791ce84a14b6120355de60dfd040f415449ac34f6abf31ad41dbb1af07901507a932674c906634033a0a01f6baefc38cf7c3557c6722799aaddae58a2124ee5153da5f885feaa21e77ec443259c1cd5f7a6a7775df8730e99b114b148314e5e1738ba50ae79cf0cf8a5e8d8d7fadd72ce98183508098d092449e5fd935d5c130e053df5d86b675c29fe73f784a406342749330063cda9b3fbbc73ee9089d87459fd3e252e795e206bc15b505bef0ecd2b2bc513401c2c5799d2b158669e166e81eea8f55a68d49e727d438290844799455358166fef94ec72957b1ba6ac48d0ecacba32bd506c753335becb595256bf62f8f01d6e75fd83677ad5e98a998f6fec2b62a361d0ee4470c773efef8edf485babb9d0c09219ec08350084f1636f608d34232861cccf513c49770bc697c1f5fe3c4f8d47cf8b472e2fdb0edd439e267b68399aef350e449ae8e7e3ffe26fdc6e1bbc1d291167b2bccb4746b71c3a6d6e6a65dfc16a6a5aad75f7876e649ebf859a01dca9f7167f119c9bfe15d0f58d8c6fd9386e05c9d6a300a87b99d1e3faa9292be24b8bcc507de18210eff1e7a5d6299625728e13619c5d50503ea0ca4c9de15fb9a29f6626fa367d0d739663c92fe12fb6dfde910885953a33c966212216239659397e9aadf36c9dae784d8150ff464b357a18382447d7a437ff20360515ee8034b27767c35a984c5cebc64f45720e3b7e4c96823cc34188464de35c6a7012fbfaafb327a9f0fd6a2ec4b4b4261dd8922ba06fc870b520e09b45c02e64dabdc95e05a9c693fa82875965206131ae64751b015d38759ff4bed4f1681d70cbe3def2c510970548b2c6312d3723ad373a3bd08b81cbd676dc68a7ee8e52e19dd273491802e267c5d9d57d1acadc6658f6f2fc9532adb95454c4a628e70bd85bbecc6993d317c91ed83ee685dbf3147c8e9fa21901ac5004b5729609d93aa6e35ac94252d0b73dd4309abae0cbe350ddd1ecd1aa47ea7c4f3e1f2ca0a69a4f16fcb2c7314e6cd225f83d0c079fbd8b3a7f18a7b9dd2be25faeecb968b0a3067af28f33249dc30829117835340ca47a89549407ba2df618d245a0a968634e0370eb1c3af34d733bd13ec50bd5b3208aeea8b82ba773659b066f3bb552d576164dd95b790cd379915c6ca86581356ab99d3f16a5d6c955e7499de852689a6aaa13b872426dea647d5f7a7b2dc4ba55b54437991f036ff0b08e4f23bfa8660a4921b071e4f67244b01af0554848b3050186084c1361598c16caf4e3439675a8ed9a39babee45373f7177edae87e43123052562b2b09514c167572d6e4edce87d667b0790210d98dcda847bf2ff19e7fac92ac0b1150f488f5eefec126d574035952c225deeb421770cdbd334d33b4c0909ea490c168696510dd676c42d9a3f6973432010e0bf3f2e682d956e03ac1e69d5c334ac1f2524a4e61e27c9247798565f7d57cfec2cf2476e6a170ee751b709446cf99b21714ac792c29d8ebdd37b9448503ea84d798365a79448580095117f410a5560134022a5a49432f5fe83a24aa63dee4be7e237c8518abffe4e4c132f33ef14dce10bef19f7b205878cedb239977c7536c8e9706c953aa28dc817f3a3fd28b8d39b41e81048e42723a81068c792b81082a93a31ec55867fec5b6819cc32c2686bc06316c0604a6a4cffdf3d46a2c87b5110101fab49fe44d816cc79097b4fcf228b7e014a365cb0b00cd1a13bdf36ddd8813f6a0613d8e7c9336af6c11b2ac96e4ec7ad685e573a6b3935d88134b7385670454910d930f54d901da219448898c6e6152a63c5845ba9936acb2a2d54e790ef32d4cd3fbda364dde0789748bb0b78b933fbfbcb177c1e1ab858b6b3277d503cfbf5d9785b99a27fec3c8bbfcba6223cd9ad6da13cb49a04d444ab27bea818dbebd9b83b5a9b54e11c86a8f8f1f8bde3be315365cab3a354c39300f7e6b5a62112bfa8208bf9bfd88c0da9cf8700ce5547bd3cc1958151bb7f84fcd48e5417483fedef41d96c97b21977a5fea9a02bd3801e05fdd2b42a6ea61090644b90be992dc70765f8b33d58772296261df0d1119d6e0dbcfc9cd879cccff2e803f8c06ade8b681820588a9e7ebc552b5e78290c67c3b336f25a29d04cab80646af5473e6f7b080686dec390f062a3f6a4656e0ee1e3b838fc92fa0a18c106c3eb27f590766ebbb03ba0f7ad3d6755ac33b531e4dd05e34cf948d962560bb91875c4614760df9f486158607b1e76920efe7424a903b4bf9dfeb529724830a45444aa563d58d03a26b36a44a536eed9a0fe0e0ab94298e90d47bb4335c0d63230aa1b0c47f78e659b6b01bc039ed6c9945cc7cc5326e7ada4e83d1ca2c4f295ddfd12d3107bdfb1becfe75454d78161e98730de241cb44e07f29d3673e154c721d624707f0152cece9835ea291c7fbc321bd1764c526a61d896dbd3e2befda81d0f15aca565cfe6808c875f974374212aca3f22f7172518873a70d2fe0ef94a0a2596bc52ffcf82c8010133e6194816251c4de8496d43c937b0793bbea869d1e3c24250ba1abc085c4ad9eb7f4aea94e9df476adf05b35b89037ae87aa42276b2f239e52691e2c59248d509c5c5053567d1649fc092f215fc21a0bbc01a3e7197a147aedb726ae689f8a72064c383c7adfe155224c5865b5ffc859f1181b7442b9e2013510bd6d2d43c6a4e52f7d6cd49c4831231c71b580e2b8cf94a8e8f4e55645f5811ee5622e7cefefb4e9de7f332808a7326576454d429e49dd69b9663b04652a7e5c8f522d9bcea33e8290bc8a84de33b89c750f4953d2fa9f175869d23d59fe6f47cd163e3f2ef37dae4522f473e36e9a997b2f9acea10e3126585e79209ad2317c55410c0d46318ca9e9e340de9669df5d3c29ef03f6cec3d18b625ac6ac6304e844142edc0c2986e2593809812c06a9671db0c1e356eee84c597dc181478d7e2ee0469658a923226acc3fe4f51b8c861a20fb2a6eeb3a33401f44ddb359cd23b3c009f07e941dd22979d692e0d19540896de61b53c5f073d59337d1b7edf5677e2837e6de8b1a7bb04cd4eb68cbb19d90b23a18acba52fece92b9b1e35b6262b1ce62febd40935c1bb9f3792bbcbe2b929659223c9fa8c4fdaa35549afe21f2326a1117bf78e7acaf44ca711bd7828f3bd9fd30d563e77455a62add52b12de08eef5973519641e25cd89b2c8b2d4ae3c1cfcb615ed7430206876525aa4af3977a8456378aee15290d9a963e27bdf091145306b5f83645f0a0995f0f7ec516b73d2b18e3152757c69566dede1fb18d3b3e59a21529884d3e4aedde1f9853db8dc038397ea9da56885170342b7588958f122f41cdf8d7d951d7f24565a3129e08c0da35223b5fb03a2d6d7091a1a347c81120173882dc9d50b7ba6c8aeacd3c5708cf20629ef2e0de727a228dee88e2a88a58cd864137d8f8080ee48a0cb7daa5a015798afdc4e62544870706be8a54a2080f4c977464e1273e0828a5ff4e1939038e0811a5928943568150199f248bba193d8a2cca879c6940af592b67158edd911824ee7fb7a4f0e3db3df75fcac611174ad0fcf1c396b3808b6fe4aa1ccbb70abb113793a9f333438e0d96a5fe6598ae762576535f23d71f821c159f63a5b86e4e5cb82159ec10f98103be351e293b46f3336e4baf26a803fd6f1b2d687a731859ff3e2c0973d0163061f74b802dacaa8adeed860c07511303853294b0ca7b82531be7684dc9fe8b3f8127cdf5530e07fab2195b8284e0a129f88754028800288f565298fd1a858522b28f5e56b8a58fa7a2a0ee74fe19bea86be2984e9d539f70f6fa68b48b7e9a7e4979bda0b22a918cb4f5eec6957b02d29a0f1b2c69da5f41db392dbd62da9e64cec64f8bb5ff34b9c8ffc1f09d5aee00685ab872a7dfeddd5f6d2321a3b76aa65701d96e92295e18f7725bfa200b5015e639222d97cac16c0f3e705ecb256014bbfc5739bd11098c0bc1999bc25f20fb310944d128ef421080c95f68c36c21b74cafe70e1bc68c6048ca71515096a6254fdd597fa319f95ffc19cf9bf60dbac77c195e1adcc618a68e4a5d92b884214172ef1caa98cc76d22e0910b9c1ff24f828e20a0102ce3dd74f66b22ce32739481e451b78e3666e6572ca80f2109211e7910af1876ad63e8a29646f97fa6a09357653ad028df062e8d2e9b417b1887e2fdd4dcff66a7bf7870f52dfc578285692b2f4bc8577dbafb17bb2ec46e6176dbc0bcf034a6ed4942b7bf429daa1036b37b9815fa88b43904213082e278449ef8170c18c1dc30521985bd84515b641b1074091bc529467091fc6e4109d3b0911999a12dd45752ce476a3e3f81918c572d418dabb52cd1e72c3d5a7d766982818cfcad6c6dbb88f37ba45cdc12055528626dd89fa053f68a3052f50c8b4b4c2a95edf86da76927ff4997e36dcc7a0c5339235f69fb0cab33b7f08f2969b1325f31a9399711ac97eae710dafd26af9dce78104e42c9afc8ab565775efa8cfd229d24243d143a2c0e7e2fc721936eaafb9dd91f9dfbf21441cb64a8c07f41560dbf8902b4c7675ab9f90a4937e246711bc3f526773e7ff3c3f947c2d882b163ab80ce3e08ef94869abeeab76d3640206193d7b67f7329fa667b9750b5c25fd0823f36b56caa1d4b31792c21c90bbca127501903d989801ee7f34707e07455cc7b5f241bf038d3ff2f1e222b322a953b47c7ff123b0230132592c6a61ee88ea2f1fe1285671dd0ebf61c805025045043da35e4f3dc45622babb0007a308b9bd2df5dc2c1d5a7bb5578d972b049d8563ded6bf882430bc6fbd2be9fb5c6fb8d416c466a0ac5b80979fcd39de1ec9dcb772c95643ca9d12d96b5973e339e24bee2c0ed6839857bf4a2abc5a718636872e84b173a8df2fd65b2a24dc18e997f830bd9880800d0ba61906336487beeddfe0cd2b64b52a792abc1563716e11e7ce620236c5f0a9965a43aa39b2dc821dc6829b43a8350f77352e893e492fb5d9ea154726f7da3ac416b800de11abd37cbefaa6a533f284a3717fdfa6c28dcf8500cd3ad691fac7cde9bb96a4203fabbd8a3b01e186ce4db4cb8d80f1d9788fc84300b3a9c0f4760fc3ce897a902e9c2f7cff016250e2e620618963a69da32790a08d804afa7cb05dddb0e3887911c21732ba3a744776da8a012bd4a7c364613be4c4fdc739b13698ad662715900a34715a8042cce016029e8bb7d26d163367b52690f59964e8244e4fe2d4f334dffb0fae92767b085de67b4026cd06ada90abbb4aae73e1253e8ecce1017068c4ee0e29cc6bb69ffc74e04baa8b2e48fa2daacb3acb46dc88de924a7a25211312e086249fcb834e34ba10f81d17e63947f302c37fb99cba1ef5c0bf3de2e809b0a81d5327375aaa51d46d539357ab956018b8047ef18fb3116f17ebdba6063a2bb33a8d66259ebf278f948176ff0bfe8365a7ec7593c2af034d21c44ddddf3ebdad6fcb1dec1d38012ef37b2d13b9f332cde4a3f6cfe1597ac79582f44719539efbb8a5a6ce8458f6c3bfa8a592238f0367d752de576485c8524e5318a326f9b8211509a1fe103cc923e62586c29aeccaedde7acdf0c4c8c03f9ebe5c7b1034ff70fb77c0a7ad53802bf4062cb987dce2f15b02e3cac84636bc3a134b38cc4a8cfde977cfd48bab7012d94abe45de1ff80a61536c7de57458c1858075e0a6ec1e63a3500c4876c1e8a8a2a64bc81423a1476265ad9d7a901f704578882fbbee7603cd5b91ae8a910b04e68d6e8fa959d0328ec84f28450a37a0cead3b0d2a45da09e0097154207ad02d01ac4e9e779502b4beeac95b36c287876cecd66f0cc543271378acb10b9daa77d640627d6b127191d2b43d1de359c2a348f71359814eb9f7ac12138446d533e92df8a5fe0e36e17e2bc3d258d4e5d6c4d365d35d7e7a3d68e8fedc3653b8cfb4de6665d5be917b8b660504dd4bf3ffb72333f5ab5f014d8b5d081a81f86b44a62f923c65e7ec2a39be73a332437f738b804ee4731d2119092493a11b07ec5b402612a498609cc2fc60063b50eb5fc20f893ee2c30b058cfbca18101c79066a9635966aa9a2781ad81818c7aa76ff5f587d41448cb4cd53e92e8dd579b165eece6053274b1ee8e5c541af5c598c007b57ebc921f63348eff0f61643f9f87197d4d59fb6499adab2cf047dabe1468aeba9d2bc4c384467d4163577902bbeeccb4ef76fb353519b0639d04d31b1a1808cec45c77db225a124dcba90663cfe35d30ef841a4af1fe027702867dfda2a3106b0510a5a13c058a282bc446bdb33b94f0e296c1aa590decff84907691a51849141b742d1b6b77bdd06b5f4d64723d2e739baa504484f1fa6473d2d987763278550e72813f0a200d3c8ae8b85f26bc82eacd9ababf78960410351f14c3d8df863f08331d3e95c2c2347e36ecbffb25a76dc7455f975fb48dc5b0f1f21246771dd6179cc2afb9a5531a4813e600bdf47d66589739e2988cc88abb75343f52617ba21b4dffd572765613a6eb86da3f54d03eca01e3980ab78e7639ee2fd64fc2749f01b8205f614bba83ef939966ba65e159966d5f49b01de5e901043ac4686f7abc09921eb5d02f1d03d45e4c4f6a8347a6cc35ad2c201939c5dd60fdb2d9d30941b5b8030a929e1807f770204120049ce44e2c301257002afa9515452a7ac9320994709b7942d64f07d6f7ae15aff637ae5a33185121a91b5a6ea9df05f7ac334633abe3fb62b73e45364a8c55c34e5fffcf44633bcad349d44f27073b4fdec1ccd04f020098b8e7d590d71cc4b53d858c727bfe15533973378ad3e0b74daf84fe0b40a3c44a85992371972fd156e8be32250d04eeaa8415a17cdc29ca38c575d4d749b9b18c7e5f4f7c77a5a85b5e008db9258e35af92486a55de1ebfa6321b17703f921bb227a6bae44c61da2006683e86808e095940aee521c5194ce146999a5e6c43e5905a1e78a56a01ae04c631ea603686f7dae20ab3d3b121e8dd35e7d82c92c8ee4187c46f47267dae837c6fbd7cdec2424d75201d24afa64af85e8af64477b7d45106b6adfc3e9f755feb8752b11695143f8e48c56ee75e84b0afb52768bef1b4136e3bffca01d0f4bc1f70a196451474db43ffbf9b93b03407eaa8c7090fc9c188fdb20d9ceeab922058350ca94cef681ea0656e3c43604586720757607e865e0bdbdad504fa37839bd610c28142175f50b0338a7ada2596ae7e5524ea9ea0b0ef674f5cd461ce5a72b1ad77aa2d9298d48cb055d8d82a8a8c167aaf0ff3aca52e1c4d76efcc4b9467845d2652e1fa5f1829033635bc94c67a948e6a4ecfe9ac4a60cf9162c30c6401154469df3cdb4a2aedc62e7f85f0b35f4fab858455c0fc71caf5a0159bafd0e0c2d982c4441660f05772ba3858ee51ea0cac8bc5f68469cfdb839b5d3e9aa9fe146c67d3d4fb36cc21e2e42ef176f266835ef7e5ceabf2cefb824404c5ccebf49f1cd1e5c755c5d29fe2ec43e9f7ecff2f902bc09e90c5b748e99834b37b0f6e88805dd1831b0f8abd1d8853dfb76a48321d27d7f7341d6978f0484ab8a8d4c9c9b99f7e5bb64fd0ff94bebaabd158f5dc33037aa6fe5fd952d3b45cb70965ee1a052a0dcfcd3d8042e5acd1b0d3efd5dcbc49628c9d0adcb5947c57b130f2a13ecfa8b444553467148c7ffe335ace4d7364328d2578a3ed32fc8b904cfba88016ab936f87117b7c41e1bf02ba7f2b4a424fc86e6778c9ce75e58d0f8816dcc228bd8122c65091913189825078c597a9c641a6cd927deeaa7121708f439e66a2a67c2cf02d6e913694206eff8b6791b6ad7d00b0596a6eaa12a26ab3788b8dd1975935aadb4b49dbfbb7adf04c9e44e8592c8211ff7d7f049d40d8e11ce27f5b4a677cbdb2fe4d3426479a8869d6cd77010fcd2dd8e360244a77e095470db8c3dab738cd4deac613e1fdb4d40b6cfc59f08ad895e43d6fededdc7b4250066a172565d5cfef67cf4f0aeb321d99a2a364f50b412a866caf4bfa86497ca95ce36795c2c29cb0cac95f191ad85a2cfb35e0ebaa876f542281a27e4faecb0c03cd8efaa575e8f365747ea5fd36b97ea69b8d4678d271713a790b919698b6f104badfe6b118b78d272a32f86206e01fe355bdb997ede7d0bccedf5d8f457498a78a151bc5d7e61b6f38c347d47a1507f52b7024546b7e76d53118e626d37b061090ee65eb6af41c2870fd71771facdb8e585495956e5ddcb19add09b4b8ee3f22e6afa514388ea760ab41d72a3f78e225a6e624d6bcf9f624679ed2c2195c031e3dccd7f3184749f9358f5d1213c71768b6ca25fe1db361081474398a8833e1e8eacd9eb08a95d0975944e4344ff24f4d46b26b22a045ed2063574c3d57b0ab2e9f458e9f15e8c037bac2bcb5d520ae57c4f8f896173a9089fe396b0ee5d6d1b1d4f99e10f59045674245011bf32d8ccf279cf6378ab6f491403057d90ffa6973a00353cc64b68e65adf5823483907fe83ef0531eb95a567a1b160c2d14d5adab38496b78d5d2e990f9189b5795883497e419aef6898b7612b5cca354c7712938e9e8f57512c33a9e9fa1ece63ccd436f0c8fb4b2deb93464ecb19220d5909e3c90c20e8d300eb4346076df22d793512a23bded427688f07bf781bd6fc0f7bcc9d6eb0952d1ee9107655d57457f61b3e750b8d0e9f7cbfa2b42ec8a70c309db93f8f9b102a599930d709812d91ab7a87355f39aa21712316c1e753153cef970f5d9eb8d47cefbe7d8d48b6a2819f93cc1a060789593d6e6d6784bf750f2403733b008b027d5a0653ef3b6c68d33c71515a39973e95fc86d6f23a9ce7ba7823783362c93830a00d2bf7ed07b6f05b98e7e215731aab17635fd9f998c6d31dcf4111ad756ccc05631dfc6746a33743389afe560043c3893a2590dd4ef89be43e176e3f88a05c694971ff7e61db243f307ddb34f0f2828cc5b4a6473f3bb0ab4c7cf17df1dfa8fb95a3bcbd992c93ecbc376d518ce069906dbdbee367e70f59a23ac1e67f715b72212d35cb52ac463c83b6639c6161af4df2048364f4ebf675b7b37d1050a9a6ac4dde24758f569a4d3a673a9d42b9ce0f720f50e63d2ff88d66a43db841f5266fc2f0ff8229b188b92214cb37083fff5e992be64b22714e92e24640a93db5ab61e8e0a4af3146b1ca7272a6b5a49251a1b96a10a09a66b456c763dce879008de4c7f2a96dbceb483346268bcca3d7c134f01eeb275c3ddda662fc557d2542edb672653bb9e34e7b5a392124c7efe053c52a3ecca0249cd187e6d725416816a035e4359d3a273fd5868574f06134d9127945563e7a723e0ebd10ea33446caee38af11123edb9e7f4f82d78d23ffcce7144f488cb5ec04acb24e3bf6f86c57c4b78e6a8f5c98cfd26c5e43c5acb77c1623f0eda3aa265fa7d2955bfc9fb205dfd4573e89b86482c892194ad314295c55216503dd129fda54e298abafa7142516acc0c21df3c723563f4d536d79de27e322e507794c620aaac6b5f3cd8f5610ef0db4beec77055523ef4c287aa36c98f449976bf8c9523d057776c96cd097b705b1c1cad610847ba5116562ae01454c3cd8a47b537617b61ad324967ada39ae1f3aa8897c4651efa2521707eaf0ebe34ca59fe0e4284bab04aaf96da06a67f3e7fc027e90796806f6434fa8b1dba9d47468b7972c0dcb1ae3d436250d77da4db3d81c349756ee4898f2e61a2938089340d69fdb584f7b824e222089cbe7b428545eba7c4379192d5c94bb75feecaf7dce560da2f890d32bdd977d80783804f284ec2d3e7a8d12aa688eb9dba7b8950f99bb39baf57efd8d88c525abf70cc745cf957b58c41b8b2d97194854676f3d4da323c334a5195afa7e35384a0dd323b36fb6a230f762d7148e7ba2a27255cbcb36069bae2103cf2c619be4e038c20dc60ac4f6848c4075ab08d6ce6e7a4a0899d7bbcce1e320be0fbf3fd1d33c636373e4b764e92bd97441cd37ddbe69c638f1bf3f6f38c86b80cebe92f48d1529d33e198f201151f5aa86bc18032afdee20d6228a0320610aa04b39c1fefc8b9666bf1eb59e3fbf6bd70fd7c6301c0909823dcab60239f285e2b91ebeb7ba5e888e3f7d85fc5b1d90c25e00e7cae78f4d70843e84e9761faa4bd3237efa56dc0413cf7a78284eff4628e035c83775c6d73088938f1355fdae180b3dcad46677d685165877f5f0629c65f862bdad4ad598063e8bf7a2c392303b4cdc370a4e5734ca4af58eecd836b0a0a7c4899d263796b5fa9897c7c757e64fa385dcdfdb668f2b9b386f9f8291d5602f95261eb53b9dbd094da44a95e334f6a2568ee1f772d94b5484185be9997e911199588a4cfb3775e62cb88a4dd2491ffb7101cee78aad454b725a1a08fad36d5af48e93c27e71fdeb0d2bbbdd712cd2799cbb5f3b6c3a5407ef2688b951ab267f5f2c1f87ac5edf24fc7fc32c90be12b8273d07fd06a40e14b0727dd43147b867b5459a643de088151cad550697ac23ebe8a61f03009849d76164384bd1bf0db685609d46b3625c9e48b2bd672819c9342a4450a563503cd300e98a4650a89461d84fc3b4261db90679d3dab89c83736c538aa662cb39b81baf3897c4894dee22524583bbd57ecf6a97474a4dc904266240e5b73937e14bc1ac5c7dc436c5beba663442bc088dcb28089c750ccd0e192a196da5e6bbc79557a0d255690b8586ac94164e27d97b2a948132de42e6819c720fa464157c4c3886e7f673e5469222783e3f46d86ef6b86f20a65af0d4b8805151fdf9acbf81f6ecdf031f148804ef6eb690874e71961c4c56ee74e87893d4fe2cc5019620fda0bf11481ba2968c93095a56bd6c032460d0c12083d78a35e6c8b9e76c0f1675b49c2d65677cee57067b45867f204829aae6ff63ef556ae8e9b1ceb86016cf6a7f7b5d532e21a1b2cf05a0ac7a3075b9a38317a511bfacb3c33f57111a58ee7b134d70ad980d4266c2c2fa19515257a510fb4ad7e904e2d8eda670673bbe1d091b8f04c43fb9c4d12a62683b0e855f8c9afa66956dae9d6a9aad734e0418852a24b6eba289f4d75459549ea0532613cb1a6f798f6dc6ae5f70f3ce9b2eb4e7800ef80ba520e981e53a5955294414ba89559e5406441b68c30f91db37090dfa1d82c4efc877cd31881f680dd7aea832aae92959f017729f1e3fbedbbf7a4acd3377da91a7a995d08e97e68f224d5e3d95a5262fad67487c85014ad87b86ca75c7116a7760274c58b4b336e80f080619efda801b0650763b2663885cfe09825eefebc5893ff6a58b154c3115cf0acbe168eedb5b1103fcb69209e010a307ccfed98f39735c63b701c53b916b22a252d55567017391e980a61786258c66949a10443b3a2054c747b11b3820382239a925f50a59705ae29afaee937bf8c8025ea478ea5c86dec0a4ca13eb082c99a8f9a12ac05012748a69288f117d4e31d8be00b3698765273cf4cbc2a069a721073ad7e3da0bcff2beaab1d73aa795ba67d1d32003219ac9781d9a2985563ab1f99a4295a9c2da2d7272ca5380895112621d9db37d02af8e357dde32e5cf4fd12784b96c4df80d0465fb654ce8c5a6eb68700710b26a589bac6fa661e26755a250b3eabba845763646ddbd69da46dcf6ef5ab1dd789e550d7f2bcf0a6b1a7bc5df22de090c1c23213ced36b7a0e20030219a0d7d14be28fab8f33175bf6e4d2ad6a7c641d8e1d56a381536895b512bfebaddcc9c0f1ad0caf821c3b1437054f7389bd7d047df03e9d62adbea749f80d95ab81e6f53e42e045d1dcdb554dd1ed3c57dbf8ac7e3067351abe947f33946271c7c230d3704783309616f92ff96615e54a9a5713882b277aec86c129f9ea4bdd55f43b6a6298cb71d0d69ed8fc57e26a6dabe068972d815224e9cfa73e5158a1bf23460397bfa9ed23322936df80712274f32a1e4a2716f72cdabd4bfc133b7f039904c86398206b541ccca709b8423dbd3a846b00449b11cbaed18d9c59dda81d3415d2c563856203e1e8b25374e5885a9d9fc09c9ea10f185ba46a812904f9ac0928704ada389042bbe2efe2094caff98960dd9c90264b21f7827b07aff93e681e4bd1275b95f4616b9d58177277a27a97e59e96e9949d2fe6c5f49ee3ef642bab741dcb07423112120ea23a11b96cc4095a1a8d13bf4266a437b824a04752b58abd2b3d47adf88c18e15650b7e404747559605c97dab44a16d184eeb54743dcd3c9a1847f4daedee18ddb8e0521d72a010d5295c2e25fa3218cc0bfd752a4171d728b4cb1f48c837eb2f21a9446a2f7d4de65103ae7e3b53e341f2fd497927d431f13e58bea440644661355a40f0138d57df8d064c464f606684656f51fe01b985f9b7a105fabac44d5d6f82f3794c6552c04dba52581b7db4b225247772cd9b26a56fcaaadb6bec3b18f992ad48660d11d5beffe6e3a9a08ac7c6faec019ff2569197dd704d2bf16e7ff1dc343423ddc6a6b7e6302a9da14ebc33546a929d93f75f636a31bcfb4b49bfde2d83525f0f2e502ca780fb8fdfb2b51ce0e331cfc9baba7730ae7a7fc0f00e31e211105af303a155ee9f87991fa4d15713206cea042743f073c2e96c4eb8de477ccc73b4710c2deafe6bce90ede692ca15f98e47a898ce8f0b8178b801ecc5b936915f3aac08745386b0dd597510d9b32b07a1587c50e0834288cdb5119b4ffbc461c9f78b3205ad62f231dc6523e411c8b8cea15f6ed9b2d68c08cbb66ef98c8169cc302f67d3382b9e5d31945f1791015ae89c0a8543765f60ff380139271e3c0a8f27f1221cc1b6fb649acf1960684443f53271f563b3a50491d5acb7c73701970370c41aa795ebd6270014229c2dec3dca40b56b006ab42b3c27653ba78373039d802c0650acf992efe3920325eaf889779c765253e7c387bdfc4fb10fa526f4b876f7538b32b0c562e1977bd4ef6216ad731e15f3c664c5c26b9f904fa8389bdb90f2f16236458d63bf5ab06b216514b87b334259a5c4509f4d9f31b9eeb6f7b7e4ef3c33b646c4b7a9f456ba752fde91858abb39fef115cc24aa73a1d606edb94cf0c3a0dc00f30976f6b2316756f64e0db4d5d22785480da084c4a9362e57901db3818c6eb2a055d0fb2994510e6f1bd57469794d7364a58cb8699eb83b1501e924ecdf6c312463cd7337cf44be69ee6ebb51d86f7957a2c2ee90416e3715a4716ad2a79fc96be1deb9bd958d54ca404339e43ac93fa8fb20bc43031a832941ac2944f6e94c0adfc8d9f5a7c1e79c8a74762533d466d886753a34474e725c95ff51f1258388454c85a163a4b6db8d996086e0c290833bba7914b63552a9571b358f6292ccb9f985787e74554b76d451342c544785211425b9fb2b7f80f36d5402fb319f0c8d0c4f6bd71cb87a8f21913c6ce4fc0bff5de37817f45b8821d631d7abb2d3d17aa1a109ad21daf1c4b5d68e827144875b386e1d6ee8d11301e692b1f986faa246bc701268fc6dc7cb6c47a3a309641a8d9b5690a7f2b4ca5466798f43cfe0471bd8fa8d391ff1a160a1c640fc20d88db740a10face2c23e6a341683b9a85d0d1d56830547cbde73eb19ced19af296daac59b85d0a607528f8dc1a5a660a0b3edfd9d4a2c0cf40f05102196c13618d358e07c7591cf40e607fc84b77a4f17b9e5dbc7af4c88dbbf889302a60db6f5632433510638d391062f6eb626f6dc3272773fbfcee2c0b995a1993ea383e5195cae733a2c1ede860b50d0a9a12b4c3f1fe371c2bcf18389acd988b5574b93867b996b91cd6a5a72ee6d1644c3d69e79c1b6f1e56b747d55376b9fd50da9691d94567d6f89da3cf353ebd759d617775283f39af55d40cdb0da6d7b60cbf2225ffd4413ba426f7047928c4829a237fdc192d7f6452ec0569cddd119858ebda17d35fca91cbb2b52a0eb1077d696eff10b75885d3df42ca127422fc138d8dc71aa206e0d5dfa2991377801c74081df71401df8d7d773e424fe8b91d0719a3c5646d497f046eda294283af53a9ff9b32603781a32dcbcaf1b41eefe05aa61815d6dcdfce74f4b7a05b7f70e41f66363875f502b41e94eb11ad802c48a30d393b4832af0d987d4b8c3ec236a7fe1af405a82ae104cd0b56155d577e7b2a3c1da20721a4a0fb44cb1e17637c9302cd290a4a8a712ae7c064a23c446c67d6f8175016e399bb5f632b0694a786403c3460f1d56a174001589cb646f5f2adba0f4e12dfb2dbf6fece03118ded8a1d9ee85f166e616c41b910a8279b2db6cd25361b5b4efcc9f57a9f45098bcecb9120dd2d571882f7868b2c6c367361d559ca9fe1db7618d93b4f4ee3ae5e2cf622ce175dec26ad030994e15bbe0b25b513f939f5fb07c0f539e8bb8e6b0cb8fa97a8d2e2993e77feb594df3a56a7509831a66ac5c235e009d1eec36dd7d6ab6b611f699710c4bfb70f80ed5c6ad274a53afbc8a55014d303f50753f12f196c70091990a950eb329b12b5bf3a0dbef9c8594b443917c3b0bdcc2e39eb96f3cf2c5b1bb273d96404f91a17bd5499ae08ead6b2785c0604e03263d0e11988b785becb0f66606943a0e9e9ef07d8e6a4dfaa45c27bd47e6ec6aa7d02920ea909abb61bd22cc67fd2434c96640a92bc5643f6dc186b22537e799147620a8dc16a2561d8925ae4ca0b455230d9d392cc4c19ddebbee47e0e098c12f3a97be566769019295011520c7b1dbe6d416cecb7dc17323079cc4d55f504e3c53dd9e0fbf7510470ee336ad3cf05060125c377af3213ed1a7ccd4029829c3558b8329010a8826a11b420ef8418c2b7924394236f59372106d98b6c602d3caf95a10fc01b1aecbeed8028fb3e44f1918a0b31183cf2690e8307bcc681ed2f284d8bb23fc2409367d285424427b2514e773620019909f9c19725a930056019a6948e947204bebe5e9a9ace4f27a3cca70ae61cc236a651fd032239b130fb995de45163304dd93940d65e488e690d7c54e3b77d3256b00b14faf5c498d92255a9068c2c9d1b25641632dd0949f368e2259a51706594155819b7360ed095c8eb19543985106b2647b87c1b93139bb8f2c1ddb880c1475cd4d34c26c723bd36e818e21e7bb9a785d4365ba8b3aefaba58a21beaf845b69b6dc3185aee3f68623214a58ffb130e562f87eff54e72ca7b74d07ba69c7c46196a9af3c3d606f7d0dab27939ad15482b53d17672eddded0cd3bb265e095292d30b0121faecf228afea80dd3c0c8fb2b3e84012fd3d1ec097ba68588c445d5c44ce04d67e73457066fbee0a4c2002fb3d19dda236c95ec2d80df251f8ea029f2f7bcf7709446f71bbf610924e1de231dc1fc88552ecd57876e85e666ed99d7e8a30d13c7efcf69e50edd61c26ed12c0026d7d18af3a915ea2580ce8e454efbc3d0fc1edda1eb83e9f477db7fe814860078c4fb888600a27d332ccd4d45ab8cb8f1b29a11431b5f109318c8212f319aad563dd80ebcdfe3502771d8b2865f087534eb209abc407f3bcfa915c72b508c1926ea9e2a532061d5b53d7d5ec454efa80ee01af540b1336153387304a188df6641c7c5105d086e81d96c221d32f9601d84ff04a4a72b87d3cddbcb6a4ef11fe22a56c84d1ab9195e92387f81aa9527f785c1fd06e102691c534776207191036c947acbad56b6c6f27fae18c4ab29791db9950070df22bb5db553f0a2f1d2c53170ff6a6dd9a7dbf2ab338658bbed3c8270f35d380f40172804e1697efeffc8734bca9a58b7e3e7ff7dd8a31449f82b4263af41f3003d6d24d1db6bf681d2bdd6419e5ea268b13c6a7d0a36eae0aa66253e89b4960b62e10abae9eb399a51ad2ef0e9a4941c9fe1951ddfbd5e21941714e447103c6550670e2c8e9dc69cbd711b9234eca06e12387cc7faf07d7809f4ef947a2c5e810f52d3f2f56f93d899479f0c1f16aac4a2fb8491478662a16db9006c51e7bc95cd845768e230b5a9314085b162cf99ea50027eb4fb0a5ebdbedd97c280e81d75e57e0412d18b7bafd44803295f6b22371b46222359394eb261354876fdc5d8d8c13458cce43bcd8edf69c62abad9d7df2a275773034a97c8031831147380ea30e090e886d005237314d8bae52236bfbaf92478fb7b46cd41d677c4187181b9e2c35f44ce52e3aeb82daf9f0ab38da4e7992cae381cb1d1399e7d854006ae90fa2d3cb332c3040bc23e4c696abaef8316478eb5c04871d31416c2d1b8ae6fbd23f413f3c72832076d25e2d50cd366ab3f56b88ce73f589a82d6c889c299f12722ad0d2d7255e8d0fbbb174c5bcd04f319b4d50b28554135c29863be3872d1c63be9c6520358f9d1629cc3497a42571896b1909b0291b74282fdae478f9d968e5995ce3040d28aedf2fb43e17a70ee9224da9f909c603a882f9861af778de58546b788c74f405c7</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码查看文章</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
    <tags>
      
      <tag>文献阅读</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRF-chemuserguide</title>
    <link href="/2023/09/26/WRF-chemuserguide/"/>
    <url>/2023/09/26/WRF-chemuserguide/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.Introduction</p><p>WRF- chem用户指南旨在为读者提供特定于WRF模型及其潜在应用的化学部分的信息。它将向用户提供WRF-Chem模型的描述，并讨论与生成包括化学成分的预测相关的具体问题，这些化学成分超出了当今气象预报模型通常使用的化学成分。</p><p>目前，WRF- chem模型已作为天气研究与预报(WRF)模型包的一部分发布。由于这种对WRF的依赖，假设任何选择使用WRF- chem的人都非常熟悉基本WRF模型的设置和使用。对于新的WRF用户来说，最好先获得编辑、编译、配置和使用WRF的培训和经验，然后再冒险进入设置和运行WRF- chem模型的更高级领域。</p><p>WRF-Chem模型包包括以下组件:</p><p>Dry deposition, coupled with the soil/vegetation scheme</p><p>未完待续</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRFuserguide</title>
    <link href="/2023/09/21/WRFuserguide/"/>
    <url>/2023/09/21/WRFuserguide/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1,2章主要是基础介绍，从第三章开始看。</p><h1 id="chapter-3-WPS（WRF预处理系统，用于实时数据模拟）"><a href="#chapter-3-WPS（WRF预处理系统，用于实时数据模拟）" class="headerlink" title="chapter 3 WPS（WRF预处理系统，用于实时数据模拟）"></a>chapter 3 WPS（WRF预处理系统，用于实时数据模拟）</h1><p>1）定义模拟域</p><p>2）将陆地数据（如地形、土壤）差值到模拟域</p><p>3）将气象模型从另一个模型进行解取和差值到该区域</p><p>主要对geogrid、ungrib和metgrid三个exe进行介绍。</p><p>geogrid 定义模拟域，将地面数据插值到模拟网格中，模拟域在namelist.wps上定义新的域或额外的数据集可以通过表格文件GEOGRID.TBL插值到模拟域，并由ncview实现可视化。</p><p>ungrib 读取GRIB文件，并以中间格式写入数据GRIB文件包含时变气象场，通常来自模型如NCEP的NAM或GFS模型，可读取GRIB Edition 1。GRIB2 选项编译，可读取GRIB Edition 2</p><p>由于GRIB需要比WRF更多的字符，因此ungrib使用Vtables变量表来定义GRIB文件中哪些字段写入中间格式。通用GRIB模型输入文件的Vtables随ungrib软件一起使用。<br>Vtable提供NAM 104,212 grids格式。</p><p>metgrid提取中间格式气象数据水平插值到定义的模拟域中，然后插值到metgrid输出，并且必须指定时间范围。<br>每个气象场差值方式控制由METGRID提供，可以将metgrid输出写入NetCDF，用Ncview可视化。</p><p>预处理3个步骤：<br>①使用geogrid定义模型粗域和嵌套域</p><p>②用ungrib从GRIB中提取气象字段</p><p>③使用气象网络将气象场水平插值到模型域</p><p>任何嵌套和模型粗域在名称列表.wps文件的“geogrid”名称列表记录定义，此外还需设置share参数</p><p>具体可看笔记。</p><p>链接</p><blockquote><p>ln -s ungrib/Variable_Tables/Vtable.GFS Vtable </p></blockquote><p>具体看参考书，基本与参考书相同。</p><h1 id="chapter-4-WRF-初始化"><a href="#chapter-4-WRF-初始化" class="headerlink" title="chapter 4 WRF 初始化"></a>chapter 4 WRF 初始化</h1><p>WRF有两大类模拟：ideal 和 real<br>ideal不需要初始文件，有现有的1-D或2-D模型，并假设简化的分析地形。</p><p>real是实际数据，需要WPS软件包的预处理，该预处理可以提供网格分辨率的每个大气和静态场的保真度。</p><p>real.exe和ideal.exe不能一起使用，都是WRF模型运行处理之前的程序。</p><p>当选择要研究的不同案例时，必须重新编译代码以为模型选择正确的初始化。<br>如果用户发出命令。/compile em_real，则会构建初始化程序。<br>如果用大涡模拟，则运行./compile em_les。对于这两个初始化程序，WRF预测模型是相同的。在每个初始化模块中，都进行相同类型的活动。</p><p>步骤：</p><p>1）从WPS中读取气象和静态数据</p><p>2）准备模型中使用的土壤场(通常，垂直插值到指定地表方案所需的水平)</p><p>3）核实土壤类别、土地用途、陆地掩膜、土壤温度、海面温度是否一致</p><p>4）处理多个输入时间段以生成横向边界条件</p><p>5）三维边界数据(u, v，位温，蒸汽混合比，总位势)与总柱压耦合</p><p>初始化ideal步骤略。</p><p>Real Data case案例</p><p>实数WRF用例是指将数据输入到WRF预处理系统(WPS)提供的“real.exe”程序中的WRF用例。来自WPS的数据最初是由以前运行的外部分析或预测模型生成的。输入一般为GRIB数据。</p><p>惯例是使用”met”来表示从WPS “ metgrid.exe “程序输出并输入到” real.exe “程序的数据。d01表示引用域，粗域。</p><p>WPS包提供准备在WRF系统中由“real.exe”程序使用的数据。</p><p>1）使用netCDF文件在WPS和real.exe中进行交换</p><p>2）数据已经被水平插值到每个变量的正确网格点，风也被正确地旋转到WRF模型地图投影上。</p><p>3） 3-D meteorological data required from the WPS: pressure, u, v, temperature, relative humidity, geopotential height（需要温度，水平风速，垂直风速，温度，相对湿度，位势高度 6个变量）</p><p>4） Optional 3-D hydrometeor data may be provided to the real program at run-time, but these fields will not be used in the coarse-grid lateral boundary file. （可选）</p><p>5）来自WPS的三维土壤数据:土壤温度，土壤湿度，土壤液体(可选，取决于WRF模型中的物理选择)</p><p>6）2D meteorological data from the WPS: sea level pressure, surface pressure, surface u and v, surface temperature, surface relative humidity, input elevation（来自WPS的二维气象数据:海平面压力、地表压力、地表u和v、地表温度、地表相对湿度、输入高程，二维和三维输入变量类似）。</p><p>7）2-D meteorological optional data from WPS: sea surface temperature, physical snow depth, water equivalent snow depth（WPS的二维气象可选数据:海面温度、物理雪深、水等效雪深）</p><p>8）2D static data for the physical surface: terrain elevation, land use categories, soil texture categories, temporally-interpolated monthly data, land sea mask, elevation of the input model’s topography（物理表面的二维静态数据:地形高程、土地利用类别、土壤质地类别、临时插值的月度数据、陆地海洋掩模、输入模型地形的高程，这个在geo里面都有）</p><p>9）2D static data for the projection: map factors, Coriolis, projection rotation, computational latitude（需要选择）</p><p>10）constants: domain size, grid distances, date</p><p>11）The WPS data may either be isobaric or some more-generalized vertical coordinate, where each column is monotonic in pressure（WPS数据可以是等压的，也可以是更广义的垂直坐标，其中每一列的压力都是单调的）</p><p>12）所有三维气象数据(风、温度、高度、湿度、压力)必须具有相同数量的级别，并且变量必须具有完全相同的级别。例如，温度(例如)的级别超过高度的级别是不可接受的。同样，水平风组件的额外水平是不可接受的，但湿度则不行。</p><p>当运行完real.exe后，会出现 “wrfinput_d01” and “wrfbdy_d01”,这些文件将被WRF模型直接使用。</p><p>输出文件wrfout_d01:2000-01-24_12:00:00应该每隔3小时包含一个12小时的预测。</p><h1 id="Chapter-5-WRF-模式"><a href="#Chapter-5-WRF-模式" class="headerlink" title="Chapter 5 WRF 模式"></a>Chapter 5 WRF 模式</h1><p>WRF模型是一个完全可压缩的非流体静力模型(具有运行时流体静力选项)。The model uses the Runge-Kutta 2nd and 3rd order time integration schemes, and 2nd to 6th order advection schemes in both the horizontal and vertical. It uses a time-split small step for acoustic and gravity-wave modes.</p><p>WRF模型代码包含一个初始化程序包括：real.exe、ideal.exe、wrf.exe（数值积分程序）、ndown.exe（单向嵌套程序）、tc.exe（热带风暴模拟程序），可以实现的功能包括：</p><p>•    Real-data and idealized simulations（实时数据和理想模拟）</p><p>•    Various lateral boundary condition options for real-data and idealized simulations（实际数据和理想模拟的各种横向边界条件选项）</p><p>•    Full physics options, and various filter options（完整的物理选项，和各种过滤器选项）</p><p>•    Positive-definite advection scheme（正定平流方案）</p><p>•    Non-hydrostatic and hydrostatic (runtime option)（非流体静力和流体静力(运行时选项)）</p><p>•    One-way and two-way nesting, and a moving nest（单向和双向筑巢，以及移动筑巢）</p><p>•    Three-dimensional analysis nudging（三维分析推挤）</p><p>•    Observation nudging</p><p>•    Regional and global applications（区域和全球应用）</p><p>•    Digital filter initialization（数字滤波器初始化）</p><p>•    Vertical refinement in a child domain（子域中的垂直细化）</p><p>a.Idealized case</p><p>For any 2D test case (labeled in the case names), serial or OpenMP (smpar) compile options must be used. You must only choose the ‘0=no nesting’ option when you configure. </p><p>b.Real-data case</p><p>For a real-data case, type<br>./compile em_real &gt;&amp; compile.log &amp;</p><p>When the compile is successful, it will create three executables in the main/directory: ndown.exe, real.exe and wrf.exe.</p><p>real.exe: for WRF initialization of real data cases</p><p>ndown.exe : for one-way nesting</p><p>wrf.exe : WRF model integration</p><p>Running WRF</p><p>步骤略。</p><p>最后生成wrfout_d01_+时间</p><p>根据名称列表选项，您可能有其他wrfout文件(拆分输出文件的频率由名称列表选项frames_per_outfile决定)。如果名称列表中有一个重启频率(restart_interval)，也可以创建重启文件。输入文件）在总集成时间内设置。重新启动文件应该具有以下命名约定</p><p>wrfrst_d<domain>_<date></date></domain></p><p>重启运行的话重启的文件是非常大的。因此建议从头开始。<br>重启需要对程序进行重新设置。</p><p>Two-way Nested Runs（双向嵌套）<br>双向嵌套将不同域同时运行，并相互通信。粗边界为nest提供边界值，nest将计算结果反馈到较粗的域。</p><p>双向嵌套运行是这样一种运行，在这种运行中，不同网格分辨率的多个域同时运行并相互通信:较粗的域为巢提供边界值，而巢将其计算反馈给较粗的域。该模型可以处理同一嵌套层上的多个域(无重叠嵌套)和多个嵌套层(伸缩)。</p><p>使用ndown的单向嵌套运行（一般会很少用到吧，算两次不更好）</p><p>WRF支持两个单独的单向嵌套选项。在本节中，单向嵌套被定义为更精细网格分辨率的运行，在更粗糙网格分辨率运行之后的后续运行，其中ndown程序在两次模拟之间运行。这种精细网格运行的初始和横向边界条件是从粗网格运行中获得的，输入来自更高分辨率的陆地场(如地形、土地利用等)和掩蔽的表面场(如土壤温度和湿度)。</p><p>当使用单向嵌套时，粗-细网格比例仅被限制为整数（一般设置为3），建议输入小于等于5的整数。也建议从粗网格运行中频繁输出(例如每小时)，以提供更好的边界规范。不要在运行ndown时更改物理选项(可以在运行wrf时更改一些物理选项)，如果计划使用ndown，也不要从Registry中删除字段。</p><p>Step 1: Make a coarse grid run.（粗网格运行）</p><p>Do output history files as often as you can, and this will provide better and more frequent boundary conditions for the next model run.尽可能频繁地输出历史文件，这将为下一次模型运行提供更好、更频繁的边界条件。</p><p>Step 2:  Run geogrid.exe (gives geo_em.d01 and geo_em.d02 files) and metgrid.exe for two domains (as if you are making a 2-way nested run).</p><p>This will generate WPS output files for domain 1 (met_em.d01.<date>) and domain 2 (met_em.d02.<date>).  </date></date></p><p>Step 3:  Run real.exe for 2 domains.</p><p>The purpose of this step is to ingest higher resolution terrestrial fields and corresponding land-water masked soil fields.<br>这一步的目的是摄取更高分辨率的陆地场和相应的陆水掩蔽土壤场。</p><ul><li>Copy the met_em* files into the directory in which you will be running real.exe.</li><li>Edit the namelist.input file, changing ‘max_dom = 2’, and making sure columns 1 and 2 are set-up for a 2 domain run, editting the correct start time and grid dimensions.</li><li>Run real.exe.  This will produce a wrfinput_d01 file, a wrfinput_d02 file, and a wrfbdy_d01 file.</li><li>Rename the wrfinput_d02 file to wrfndi_d02. </li></ul><p>Step 4: Make the final fine-grid initial and boundary condition files, by running ndown.exe通过运行ndown.exe，生成最终的细网格初始和边界条件文件</p><ul><li>Since V3.2, one must add io_form_auxinput2 = 2 in the &amp;time_control section of namelist.input to run ndown.exe successfully. (If one desires to refine the vertical resolution when running ndown, set vert_refine_fact = integer (new in V3.2). There are no other changes required in the namelist or in the procedure. Another way to refine vertical resolution is to use the utility program v_interp (see the chapter for ‘Utilities and Tools’ for details)).（从V3.2开始，必须在namelist的&amp;time_control部分中添加io_form_auxinput2 = 2。输入成功运行ndown.exe。）不需要在名称列表或过程中进行其他更改。另一种改进垂直分辨率的方法是使用实用程序v_interp(详细信息请参见“实用程序和工具”一章)。</li><li>Change namelist variable interval_seconds to reflect the history output interval from the coarse domain model run.</li><li>Do not change physics options until after running the ndown program.（ndown不需要改变其他选项）</li><li>Run ndown.exe, which uses input from the coarse grid wrfout file(s), and the wrfndi_d02 file generated from Step 3 above. This will produce a wrfinput_d02 and wrfbdy_d02 file.</li></ul><p>The ndown program must be built to support nesting, however.  To run the program, type<br>./ndown.exe</p><p>Step 5: Make the fine-grid WRF run</p><ul><li><p>Rename wrfinput_d02 and wrfbdy_d02 to wrfinput_d01 and wrfbdy_d01, respectively. </p></li><li><p>Rename (or move) the original wrfout_d01* files to something else (or another directory) so as to not overwrite them.</p></li><li><p>Edit namelist.input,moving all of the fine-grid domain data from column 2 to column 1 so that this run will be for the fine-grid domain only.  Make sure that the time_step is set to comply with the fine-grid domain (typically 6*DX).  It may be beneficial to save namelist.input to something else prior to this step in case you need to repeat this process in the future.  Save the newly-edited namelist as namelist.input.</p></li><li><p>WRF模型的物理选项可在运行之间进行修改(在运行前的WRF模型和在运行后的WRF模型，但在运行时使用与第一次运行相同的物理)，但通常地表方案选项除外，该方案根据方案具有不同的土壤深度数。用户可以利用允许初始边界和横向边界同时使用潮湿和标量数组的特性(分别为have_bcs_moist和have_bcs_scalar)。此选项仅在WRF模型运行期间使用，该模型在ndown处理之后运行。使用此选项，用户必须在预报之间保持微物理选项相同。其优点是，以前的WRF模型为所有微物理变量提供了真实的横向边界趋势，而不是简单的“零流入”或“零梯度流出”。</p></li><li><p>Run WRF for this grid.</p></li></ul><p><em>Keep in mind that the output from this run will be in the form wrfout_d01</em> but it will actually be output for domain 2.  It may help to rename these to avoid future confusion.</p><p>Running ndown.exe for Three or More Domains（为三个或更多域运行ndown.exe）</p><p>Because of the way the code it written, it expects particular file names (specifically for d01 and d02), and therefore it is important to follow these steps precisely(由于代码的编写方式，它需要特定的文件名(特别是d01和d02)，因此精确地遵循这些步骤很重要):</p><p>注意:这个例子是为了向下嵌套到第三个域(总共3个域)，并假设您已经从上一次运行中获得了wrfout_d01*文件。</p><p>Step A:  Run the geogrid.exe and metgrid.exe programs for 3 domains. You should have files met_em.d01.<date>, met_em.d02.<date>, and met_em.d03.<date>.</date></date></date></p><p>Step B:  Run real.exe for 3 domains.</p><ul><li>Copy the met_em* files into the directory in which you will be running real.exe.</li><li>Edit the namelist.input file, changing ‘max_dom = 3’, and making sure columns 1, 2 and 3 are set-up for a 3 domain run, editting the correct start time and grid dimensions.</li><li>Run real.exe.  This will produce a wrfinput_d01, wrfinput_d02, a wrfinput_d03 file, and a wrfbdy_d01 file.</li><li>Rename the wrfinput_d02 file to wrfndi_d02. </li></ul><p>Step C:  Make the domain 02 grid initial and boundary condition files, by running ndown.exe (see the details in step 4 above)</p><p>Step D:  Make the domain 2 WRF run (see the details in step 5 above).  You will now have new files named wrfout_d01* which will correspond to domain 02.</p><p>Step E:  Make the domain 03 grid initial and boundary condition files, by running ndown.exe</p><ul><li>Rename the wrfinput_d03 file to wrfndi_d02 (this is the name the program expects) </li><li>Make sure the namelist still has io_form_auxinput2 = 2 in the &amp;time_control section.</li><li>Change namelist variable interval_seconds to reflect the history output interval from the coarse domain model run.</li><li>Do not change physics options until after running the ndown program.</li><li>Run ndown.exe, which uses input from the (new) coarse grid wrfout file(s), and the wrfndi_d02 file. This will produce a wrfinput_d02 and wrfbdy_d02 file (which will actually correspond to domain 03).</li></ul><p>Step F:  Make the fine-grid (d03) WRF run.</p><ul><li>Rename wrfinput_d02 and wrfbdy_d02 to wrfinput_d01 and wrfbdy_d01, respectively. </li><li>Rename (or move) the wrfout_d01* files to something else (or another directory) so as to not overwrite them (recall that these files correspond to d02).</li><li>Edit namelist.input, moving all of the fine-grid domain data from column 3 to column 1 so that this run will be for the fine-grid domain only.  Make sure that the time_step is set to comply with the fine-grid domain (typically 6*DX).  It may be beneficial to save namelist.input to something else prior to this step in case you need to repeat this process in the future.  Save the newly-edited namelist as namelist.input.</li></ul><p>After running wrf.exe, you will have new wrfout_d01* files.  These will correspond to domain 03.  If you need to add any more nests, follow the same format, keeping the naming convention the same.<br>运行wrf.exe后，您将拥有新的wrfout_d01*文件。这些将对应于域03。如果需要添加更多的嵌套，请遵循相同的格式，保持命名约定不变。</p><p>下一页的图总结了使用程序ndown进行单向嵌套运行的数据流。</p><p><img src="/2023/09/21/WRFuserguide/image-1.png" alt="Alt text"></p><p><img src="/2023/09/21/WRFuserguide/image-2.png" alt="Alt text"></p><p>f. Moving-Nested Run</p><p>在WRF中允许两种类型的移动测试。在第一个选项中，用户在名称列表中指定嵌套移动。第二种选择是基于自动涡流跟踪算法自动移动巢。这个选项被设计用来跟踪一个定义明确的热带气旋的运动。</p><p>用来做移动气旋的模拟。</p><p>略（以后用到再看，现在看了也记不住）</p><p>g. Analysis Nudging Runs (Upper-Air and/or Surface)<br>分析轻推运行(高空和/或地面)</p><p>略</p><p>h. Observation Nudging Run</p><p>略</p><p>i. Global Run（全球尺度）</p><p>略</p><p>j. Using Digital Filter Initialization（使用数字滤波器初始化）</p><p>k. Using the sst_update option（使用sst_update选项）</p><p>WRF模式物理不能预测海面温度、植被比例、反照率或海冰。对于长时间的模拟，该模型提供了一种读取时变数据并更新这些字段的替代方法。为了使用这种方法，必须能够获得时变的海温和海冰场。</p><p>Note that this option doesn’t work with sf_ocean_physics options.</p><p>l. Using bucket_mm and bucket_J options</p><p>这些选项用于长期模拟降雨积累和辐射预算积累项(RAINC, RAINNC, ACSWUPT, ACLWDNBC等)。对于32位精度，将小数加到非常大的数字上会随着累加项的增加而失去精度。对于几天到几周的模拟，积累通常是可以的，但是对于几个月到几年的模拟，这有截断添加的效果，特别是小的可能会被零化。</p><p>当这些选项被激活时，术语的一部分存储在一个整数中，每次达到桶值时该整数加1，因此我们有两个术语—RAINNC和I_RAINNC，其中RAINNC现在只包含剩余部分。</p><p>使用total = RAINNC+bucket_mm*I_RAINNC从输出中检索总数。合理的桶值可根据月累积量(如100mm)计算。总降水量等于RAINC + RAINNC，其中</p><p>Total RAINNC = RAINNC+bucket_mm<em>I_RAINNC<br>Total RAINC = RAINC+bucket_mm</em>I_RAINC</p><p>The radiation accumulation terms (e.g., ACSWUPT) are in Joules/m^2, so that the mean value over a simulation period is the difference divided by the time between, giving W/m^2.</p><p>total = ACSWUPT+bucket_J*I_ACSWUPT</p><p>m. Using Adaptive Time Stepping（使用自适应时间步进）</p><p>自适应时间步进是一种在保持模型数值稳定的同时最大化模型所能使用的时间步长的方法。模型的时间步长是基于全域水平和垂直稳定性准则(称为Courant-Friedrichs-Lewy (CFL)条件)来调整的。下面的一组值通常可以很好地工作。</p><p>use_adaptive_time_step = .true.<br>step_to_output_time = .true. (but nested domains may still be writing output at the desired time. Try to use adjust_output_times = .true. to make up for this.)<br>target_cfl = 1.2, 1.2, 1.2,<br>max_step_increase_pct = 5, 51, 51, (a large percentage value for the nest allows the time step for the nest to have more freedom to adjust)<br>starting_time_step = the actual value or -1 (which means 4<em>DX at start time)<br>max_time_step : use fixed values for all domains, e.g. 8</em>DX<br>min_time_step : use fixed values for all domains, e.g. 3*DX<br>adaptation_domain: which domain is driving the adaptive time step</p><p>n. Stochastic parameterization schemes（随机参数化方案）</p><p>随机参数化套件包括许多随机参数化方案，其中一些被广泛使用，一些是为非常特殊的应用而开发的。它可以通过在每个时间步对每个成员施加一个小的扰动来表示集成模拟中的模型不确定性。这些方案中的每一个都产生自己的随机扰动场，其特征是空间和时间的相关性，以及在命名列表record &amp;stoch中定义的总体扰动幅度(从3.6版本开始)。</p><p>随机扰动产生在父域在每个时间步，默认情况下，插值到嵌套域(s)。名称列表设置决定这些扰动应用于哪些域。通过设置，例如sppt=0,1,1，扰动将仅应用于嵌套域。</p><p>由于该方案使用库FFTPACK中提供的快速傅里叶变换(fft)，我们建议每个方向上的网格点数量是小素数的乘积。如果网格点的数量在至少一个方向上是一个大素数，计算成本可能会大大增加。</p><p>Random perturbation field (rand_perturb=1) 随机扰动场=1<br>This option generates a 3-D Gaussian random perturbation field for user-implemented applications.The perturbation field is saved as  rand_pert in the history files (available starting with version 3.7).<br>该选项为用户实现的应用程序生成一个三维高斯随机摄动场。扰动场在历史文件中保存为rand_pert(从3.7版开始可用)。</p><p>Stochastically perturbed physics tendencies (SPPT) (sppt=1)<br>采用随机模式扰动位能温度、风和湿度的累积物理趋势(微物理趋势除外)<br>Stochastic kinetic-energy backscatter scheme (SKEBS) (skebs=1)</p><p>采用随机模式对势温和旋转风分量进行扰动。u、v、θ的扰动场分别保存为历史文件中的ru_tendf_stoch、rv_tendf_stoch、rt_tendf_stoch。<br>风扰动与动能后向散射率的平方根成正比，温度扰动与势能后向散射率成正比</p><p>默认参数用于中纬度的天气尺度扰动。</p><p>Stochastically perturbed parameter scheme (SPP) (spp=1)随机摄动参数格式</p><p>采用随机模式对GF对流方案、MYNN边界层方案和RUC LSM等物理包中的参数进行扰动。</p><p>Stochastic Perturbations to the boundary conditions (perturb_bdy)边界条件的随机扰动(perturb_bdy)</p><p>Stochastic perturbations to the boundary tendencies in WRF-CHEM (perturb_chem_bdy)</p><p>The random pattern created by the option rand_perturb=1 (see above) is used to perturb the chemistry boundary tendencies in WRF-CHEM. For this application, WRF-Chem should be compiled at the time of the WRF compilation. </p><p>o. Run-Time IO</p><p>用户让WRF模型知道对IO进行运行时修改的信息位于何处。这是一个文本文件(my_file_d01.txt)，在名称列表中定义，每个域对应一个。</p><p>p. Output Diagnostics</p><ol><li>Time series output. To activate the option, a file called “tslist” must be present in the WRF run directory. </li><li>Pressure level output. This is activated by adding a namelist record &amp;diags, and set p_lev_diags = 1.</li><li>nwp_diagnostics = 1 in &amp;time_control.Convective storm diagnostics.（对流层风暴诊断）</li><li>output_diagnostics = 1 in &amp;time_control. Climate diagnostics. （气候诊断）</li><li>do_avgflx_em = 1 in &amp;dyanmics.  This option outputs history-time averaged, column-pressure coupled U, V and W for downstream transport models.</li><li>afwa_diag_opt = 1 in &amp;afwa. （天气控制选项）</li></ol><p>afwa_ptype_opt = 1     precipitation type<br>afwa_severe_opt = 1     severe weather diagnostics<br>afwa_vil_opt = 1        vertically integrated liquid<br>afwa_radar_opt = 1    radar<br>afwa_icing_opt = 1    icing<br>afwa_vis_opt = 1        visibility<br>afwa_cloud_opt = 1    cloud<br>afwa_therm_opt = 1    thermal index<br>afwa_turb_opt = 1    turbulence<br>afwa_buoy_opt = 1    buoyancy</p><ol start="7"><li>Others in &amp;physics</li></ol><p>do_radar_ref = 1: compute radar reflectivity using microphysics-specific parameters in the model. Works for mp_physics = 2,4,6,7,8,10,14,16.使用模型中特定于微物理的参数计算雷达反射率。</p><p>prec_acc_dt = 60: Time interval for outputing precipitation variables (rain from cumulus and microphysics schemes, and snow from microphysics scheme) (unit in minutes).输出降水变量的时间间隔</p><p>q. WRF-Hydro<br>r. Using IO Quilting<br>s. Using Physics Suites<br>t. Hybrid Vertical Coordinate（混合垂直坐标）</p><p>Examples of namelists for various applications</p><p>这里提供了一些物理选项集(加上模型顶部和垂直水平的数量)供参考。它们可以为在应用程序中测试模型提供一个很好的起点。还要注意，其他因素也会影响结果</p><p>不同的环境对应不同的参数设置。</p><p>Check Output</p><p>Once a model run is completed, it is good practice to check a couple of things quickly. 一旦模型运行完成，快速检查几件事情是一个很好的做法。</p><p>The namelist options are written to a separate file: namelist.output.<br>名称列表选项被写入一个单独的文件:namelist.output。</p><p>Take a look at either the rsl.out.0000 file or other standard-out files. This file logs the times taken to compute for one model time step, and to write one history and restart output file<br>这个文件记录了计算一个模型时间步所花费的时间，以及写入一个历史和重新启动输出文件所花费的时间</p><p>Trouble Shooting（故障排除）</p><p>如果模型很快终止，很可能是计算机内存不够大，无法运行特定的配置，或者输入数据有一些严重的问题。对于第一个潜在的问题，尝试键入’ unlimit ‘或’ ulimit -s unlimited ‘来查看是否可以获得更多的内存和/或堆栈大小。</p><p>Physics and Dynamics Options</p><p>WRF提供多种物理选项，可以以任何方式组合。这些选择通常包括从简单和有效到复杂和计算成本更高，从新开发的方案到久经考验的方案(如当前操作模型中的方案)。每个主要的WRF版本都有不同的选择，但这里我们将概述WRF版本3中可用的选项。</p><ol><li>Microphysics (mp_physics)</li></ol><p>a. Kessler方案:理想云模拟研究中常用的暖雨(即无冰)方案(mp_physics = 1)。</p><p>b. Lin et al. scheme:一种复杂的方案，包含冰、雪和霰过程，适合于真实数据的高分辨率模拟(2)。</p><p>c. WRF单矩3类方案:一种简单、高效的方案，包含适合中尺度网格尺寸的冰雪过程(3)。</p><p>d. WRF单矩5级方案:(c)的稍微复杂的版本，允许混合相过程和过冷水(4)。</p><p>e. Eta微物理:NCEP模型中的操作微物理。诊断混合相过程的一种简单有效的方案。对于精细分辨率(&lt;5km)使用选项(5)，对于粗分辨率使用选项(95)。</p><p>f. WRF单矩6类方案:适合高分辨率模拟的冰、雪、霰过程方案(6)。</p><p>g. 戈达德微物理方案。适用于高分辨率模拟的冰、雪和霰过程方案(7)。3.0新版功能。</p><p>h. New Thompson等人的方案:一个适合高分辨率模拟的冰、雪和霰过程的新方案(8)。这增加了雨数浓度，并更新了3.0版本的方案。3.1新版功能。</p><p>i. Milbrandt-Yau双矩7类方案(9)。该方案包括冰雹和霰的单独 类别，有双矩云、雨、冰、雪、霰和冰雹。3.2新版功能。(注意:在V3.6和V3.6.1中不要使用此方案。)</p><p>j. Morrison双矩格式(10)。用于云分辨模拟的双时刻冰、雪、雨和霰。3.0新版功能。</p><p>……</p><p>（太多方案了）</p><p>2.1 Longwave Radiation (ra_lw_physics)（长波辐射）</p><p>2.2 Shortwave Radiation (ra_sw_physics)（短波辐射）</p><p>2.3 Input to radiation options（辐射选项输入）</p><p>2.4 Cloud fraction option（云分数选项）</p><p>3.1 Surface Layer (sf_sfclay_physics)（地面层）</p><p>3.2 Land Surface (sf_surface_physics)（地表）</p><p>3.3 Urban Surface (sf_urban_physics – replacing old switch ucmcall)（城市地面）</p><p>3.4 Lake Physics (sf_lake_physics)（湖面物理）</p><p>4.Planetary Boundary layer (bl_pbl_physics)（边界层方案）</p><p>5.Cumulus Parameterization (cu_physics)（积云参数化方案）</p><p>6.Shallow convection option (shcu_physics)（浅对流层选项）</p><p>7.Other physics options（其他的物理选项）</p><p>8.Physics sensitivity options（物理灵敏度选项）</p><p>a. no_mp_heating:当设置为1时，关闭微物理潜热。当使用这个选项时，cu_physics应该设置为0.</p><p>b.icloud:当设置为0时，关闭短波辐射选项1,4和长波辐射选项1,4中对光学深度的云效应。注意，从V3.6开始，这个名称列表还控制了对radiation.</p><p>c.使用哪个云分数方法。isfflx:当设置为0时，关闭地表的感热通量和潜热通量。此选项适用于sf_sfclay_physics = 1,5,7,11 .</p><p>d.ifsnow:当设置为0时，它关闭sf_surface_physics = 1中的雪效果。</p><p>Diffusion and Damping Options（扩散和阻尼选项）</p><p>WRF中的扩散分为两个参数:扩散选项和K选项。扩散选项选择如何计算扩散中使用的导数，K选项选择如何计算K系数。请注意，当选择PBL选项时，垂直扩散由PBL方案完成，而不是由扩散方案完成。在版本3中，垂直扩散也与表面通量相关联。</p><p>Other Dynamics Options</p><p>Lateral Boundary Condition Options（横向边界条件）</p><p>Summary of PBL Physics Options</p><p><img src="/2023/09/21/WRFuserguide/image-3.png" alt="Alt text"><br>详见userguide</p><p>Summary of Microphysics Options（微物理方案）</p><p>Summary of Cumulus Parameterization Options（积云参数化方案）</p><p>Summary of Radiation Physics Options（辐射物理选项摘要）</p><p>Description of Namelist Variables（变量说明，讲的还挺清楚的。）</p><p>WRF Output Fields（WRF输出字段）</p><p>The following is an edited output list from the netCDF command ‘ncdump -h’. Note that valid output fields will depend on the model options used. If the fields have zero values, then the fields are not computed by the model options selected.</p><p>以下是netCDF命令’ncdump -h’编辑后的输出列表。注意，有效的输出字段将取决于所使用的模型选项。如果字段的值为零，则所选的模型选项不会计算字段。</p><p>ncdump -h wrfout_d<domain>_<date></date></domain></p><p>netcdf wrfout_d01_2000-01-24_12:00:00</p><p>List of Global Attributes（全局属性表）</p><p>Special WRF Output Variables（特殊的WRF输出变量）</p><h1 id="Chapter-6-WRF-DA-数据同化"><a href="#Chapter-6-WRF-DA-数据同化" class="headerlink" title="Chapter 6 WRF DA (数据同化)"></a>Chapter 6 WRF DA (数据同化)</h1><p>introduction</p><p>数据同化是将观测数据与NWP产品(首次猜测或背景预报)及其各自的误差统计相结合，以提供对大气(或海洋、木星等)状态的改进估计(分析)的技术。</p><p>WRFDA系统的各个组成部分在下面的草图中以蓝色显示，以及它们与WRF系统其余部分的关系。</p><p><img src="/2023/09/21/WRFuserguide/image-4.png" alt="Alt text"></p><p><img src="/2023/09/21/WRFuserguide/image-5.png" alt="Alt text"></p><p>略。</p><h1 id="Chapter-7-Objective-Analysis-OBSGRID-（客观分析）"><a href="#Chapter-7-Objective-Analysis-OBSGRID-（客观分析）" class="headerlink" title="Chapter 7: Objective Analysis (OBSGRID) （客观分析）"></a>Chapter 7: Objective Analysis (OBSGRID) （客观分析）</h1><p>introduction</p><p>气象模拟中客观分析的目标是通过结合观测信息来改进中尺度网格上的气象分析</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>文献阅读（2）</title>
    <link href="/2023/09/20/article2/"/>
    <url>/2023/09/20/article2/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>《WRF-Chem模式中土壤NOx排放和气溶胶化学机制改进及其对空气质量影响研究》</p><p>在多种污染物中，细颗粒物PM2.5和O3是造成大气复合污染的两种核心污染物<br>（PM2.5和O3是激光雷达能测的，对二者进行研究有可行性）</p><p><img src="/2023/09/20/article2/image1.png" alt="Alt text"></p><p>对流层O3作为典型的二次污染物，主要由气态前体物NOx和VOCs在太阳紫外线的照射下经历复杂的光化学反应形成，是温室气体和光化学烟雾的主要成分，具有强氧化性和刺激性.</p><p>大气作为一个极端复杂的反应系统，每时每刻都有大量的物理化学过程发生。外场观测、实验室分析和数值模式等方法均可用于大气污染过程的研究。然而，由于外场观测和实验室研究在时空上存在局限性，难以应用于较大时空尺度上的空气污染研究。空气质量模式因具有可描述多物种、多来源、多过程、多介质、多尺度的综合特征，还可对污染物进行源解析，已被广泛应用于大气污染机理研究、空气质量模拟与预报和环境管理与决策，成为研究各种复杂大气污染问题的重要工具之一，而且在重大活动空气质量保障、大气污染物排放控制和重点区域大气污染联防联控规划中发挥了不可替代的作用。<br>（讲的好有道理，看人家这表述，突出了空气质量模式的重要性，多好）</p><p>然而，由于对大气污染物排放、物理过程和化学机制认识的局限性，空气质量模式模拟和预报还存在很大的不确定性，这些不确定性会导致数值预报系统对重污染天气漏报或者错报。此外，目前使用的数值模式是建立在对大气物理化学过程已有的理解基础上提出的，模式中的化学反应机制也都是以清洁大气为背景建立的。因此，对模式中关键的物理过程和化学机制进行改进将有助于更新和发展适用于当今复合型大气污染背景下的新一代空气质量模式。</p><p>本文将利用在线耦合的气象-化学模式WRFChem，针对影响污染物模拟的两个关键因素：污染物排放和气溶胶化学机制，深入探究其对空气质量模拟的影响，并对模式中相应机制进行改进，提高空气质量的模拟效果，为大气污染控制提供更加合理的科学依据。</p><p>大气复合污染的特征表现为同时出现高浓度的O3和PM2.5。PM 2.5中既有由多种污染源直接排放的一次颗粒物，也有由气态前体物通过均相和非均相化学反应转化生成的二次气溶胶；既有局地化学转化生成，也有远距离输送而来的。对流层O3来源则主要包括平流层O3的输送以及对流层中光化学反应生成。O3污染通常发生在高温干旱少雨的季节，具有较强的季节性变化特征，尽管PM2.5污染也可能呈现季节性的变化，但是在很多城市和地区全年均有雾霾事件的发生。因此，相对于O3，PM2.5更能代表大气复合污染的复杂性。<br>（PM2.5包含外界排放的一次颗粒物和二次气溶胶，还有外界远距离输送的气溶胶。O3是平流层的输送及对流层中光化学反应的生成，具有季节变化特征，干旱少雨会影响O3的形成。）</p><p>高浓度的气溶胶会增加边界层的稳定度，导致湍流混合作用减小，边界层高度降低，而边界层高度的降低又会使得环境相对湿度增大，促使液相反应生成更多的二次气溶胶，从而进一步加重霾污染。</p><p>导致雾霾发生的因素众多，可以分为内因和外因两个方面。过量排放是霾事件出现的内因，决定了长期的霾污染水平，；气象条件是霾污染形成的外因，决定了气溶胶的区域传输和扩散、化学转化、沉降清除等过程，也是雾霾污染形成的主要驱动因素。</p><p>对于对流层O3污染，NOx、VOCs和CO的过量排放是导致O3维持高浓度水平的内因，气象条件则是影响O3浓度的外因，例如：强光、高温有利于光化学反应发生形成O3。环境水汽的增大，降水的发生会通过湿清除导致O3浓度下降；云量的增加又会通过光化学反应（减弱）和液相反应（增强）清除大气氧化剂，减弱对流层的氧化能力，从而间接影响O3浓度；环境风场和大的环流场又会通过输送外源O3及其前体物来影响本地O3浓度；温度的升高还会通过影响自然源排放的NOx和VOCs间接影响O3浓度。</p><p>我国目前已经进入气溶胶与O3共存的复合型污染阶段，O3在大气中的强氧化性会促进大气化学反应生成更多的二次气溶胶，而气溶胶浓度的增大也同时会影响O3的形成。</p><p>空气质量模式是研究大气污染形成机理的有力工具，经过模式不断更新和发展，现阶段复杂的空气质量模式对大气污染物的模拟能力有了明显提高，从最初只能模拟污染物的物理扩散过程，逐渐发展成可以同时考虑气粒平衡和多个微物理过程，再到目前最新在线耦合气象和化学双向反馈。</p><p>模式对大气污染物的模拟仍具有很大的不确定性，这些不确定性主要来自以下几个方面：<br>（1）模式对真实大气理化过程的简化处理（包括：气溶胶核化、凝结和蒸发、碰并、沉降、传输、化学反应、气粒平衡等过程），以及对大气污染形成机制认识的局限性；<br>（2）污染物排放量的偏差，例如：不同人为排放清单之间对污染物排放量的估算存在差异，对自然源排放过程缺乏清楚的认识导致排放估算存在很大的不准确性；<br>（3）气象场的模拟偏差。</p><p>大量研究表明，WRF-Chem模式对气象场的模拟效果整体较好，但由于受模式中云微物理和积云对流参数化方案的影响，对云场和降水的模拟偏差相对较大。下面将重点从污染物排放和化学机制这两个方面进行研究。</p><p>对PM2.5化学成分（硫酸盐sulfate、硝酸盐nitrate、铵盐ammonium，统称为SNA。对于雾霾成因，国内外研究者们从各个角度进行了探究。观测发现，我国中东部地区二次无机气溶胶（硫酸盐sulfate、硝酸盐nitrate、铵盐ammonium，统称为SNA）占比常常高达50%以上，在以低风速和逆温为特征的静稳天气条件下会更高。</p><p>WRF-Chem模式包含了一种全新的大气化学模式理念，即：该模式的气象模块和化学模块具有相同的垂直和水平坐标，不存在时间上的插值，时空上实现完全耦合，而且气象场在驱动化学场的同时，化学场的结果也能影响地气系统的辐射平衡，且气溶胶可以作为云凝结核，影响云的微物理特征和降水。</p><p>研究表明，云雾天气条件下硫酸盐浓度较晴空时期高，较高的环境相对湿度会促进硫酸盐的快速形成。</p><p>二次无机气溶胶，包括硫酸盐、硝酸盐和铵(SNA)，是细颗粒物(PM2.5)的主要成分。</p>]]></content>
    
    
    
    <tags>
      
      <tag>文献阅读</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>文献阅读(1)</title>
    <link href="/2023/09/18/article1/"/>
    <url>/2023/09/18/article1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>《基于WRF-Chem模式的华北夏季气溶胶排放对降水影响的模拟研究》 </p><p>本文主要研究气溶胶的气候效应对降水的影响，主要内容是气溶胶辐射效应引起的气候变化和对降水特征的影响。</p><p>参数化对流（PC）<br>显示对流（EC）</p><p>方案下的12个区域模式试验（2014年夏季）</p><p>基于GSMaP、CMA、ERA5等观测和再分析资料，分析对比模式模拟华北夏季气候态特征及降水日变化差异。</p><ol><li>背景</li></ol><p>降水日循环（DCP），即降水倾向于在一天中某些时间发生的规律，是由气候系统中特定的动力和热力学过程驱动的。</p><p>DCP是当地天气气候的重要特征，具有显着的区域差异。受地形和季风影响，华北地区夏季降水有两个主要高峰时段：下午和夜间至凌晨。</p><p>气溶胶的特性很多，其中最为显著的作用可以被概括为两点：（1）气溶胶吸收和散射短波辐射，被称为气溶胶辐射效应，亦被称为气溶胶直接效应；（2）它们还能够作为云凝结核或冰核，称为气溶胶间接效应。气溶胶辐射效应，（3）不仅会降低行星边界层高度和地表气温，（4）也会增加地表的相对湿度。实际大气中由于低云、中云的减少幅度高于高层云，低层对长波辐射的冷却效应减弱，短波辐射的增温效应偏强，导致SDE对底层大气中短波辐射整体上的正向反馈。（5）吸收性气溶胶引起的近地表的增温或冷却，对气候变化具有很深远的影响。</p><p>气溶胶直接效应对辐射的影响显著，大气层顶部入射的短波辐射受到大气中吸收性气溶胶作用而增加，与此同时，大气层中接收的太阳辐射增加，在这样的同时影响下，抵达陆面的日平均太阳辐射显著下降，进而引起白天地表向大气输送的感热和潜热通量减少，近地面中午气温降低可达2.9K。</p><p>气溶胶—辐射相互作用（ARI）不仅会降低行星边界层高度和地表气温，也会增加地表的相对湿度。</p><p>气溶胶辐射相互作用显著影响到大气垂直结构后，进而会对大气对流造成较大程度的影响。</p><p>降水日循环特征差异的主要产生原因，是地形地貌间受短波辐射加热差异引起的，海陆热力分配，山谷与平坦地势之间的温度差异，都可能导致降水的特征发生较显著变化。</p><p>数值模式对天气和气候的模拟一直是人们认识和探究自然环境的重要手段，参数化方案在数值模式中有着非常重要的影响。</p><p>积云对流方案作为对降水影响最为深远的方案之一，从大气层中积云增温、诊断对流过程发生、影响大气层干湿状况的垂直配置上对降水产生影响。参数化方案使得物理过程能够和变量的建模过程关联起来，让模式输出的模拟产品的结果更加精准，参数化过程方案的组合会对最终的试验数据造成一定影响，因此也被广泛地应用于数值模式中以获得更优的模拟结果，亦或是在敏感性试验中使用。</p><p>（1）WRF-Chem3.6.1模式能否通过模拟较好地还原历史气候条件？<br>（2）考虑气溶胶辐射效应后的模拟是否相对于不考虑气溶胶的试验更加精确可信？<br>（3）积云对流方案下和显式对流模拟下的气溶胶气候效应的异同？</p><p>针对以上问题，我们利用区域气候模式WRF-Chem研究了气溶胶—辐射相互作用对气候的影响，以及降水对积云对流参数化和显式对流模拟的响应，并将模型实验的结果与观测约束的再分析数据进行综合分析比较。</p><ol start="2"><li>WRF-Chem模式使用<br>两组实验：一组使用Grell 3D [75] 积云对流参数化方案Parameterized Convection（后简称PC），另一组使用显式对流模拟Explicit Convection（后简称EC）</li></ol><p>水平分辨率均设置为 9 km，垂直方向上共有 30 层，积分时间步长为1分钟。</p><p>使用本文使用来自国家环境预测中心（NCEP）的FNL全球再分析数据来驱动模式（逐6小时一次，1°×1°）。</p><p>目前模式在气溶胶间接效应的模拟中仍然存在很大的不确定性，复杂的反馈可能会使结果的解释复杂化，故本文在模式中开启气溶胶直接（辐射）效应，包括其对云量和液态水路径的半直接效应，但不考虑气溶胶间接（微物理）效应。</p><p>本文中选择的微物理过程参数化方案包括 Morrison 2-moment 微物理方案，以及Lin方案和WSM6方案。</p><p>在边界层方案领域本文选择YSU边界层方案，并在后续的敏感性试验中追加了MYNN2.5方案。</p><p>在描述陆面的方案中，本文选择的是Noah-MP陆面模型</p><p>在辐射方案里，本文选择RRTMG短波和长波辐射方案，后续集合试验中则选取的是Goddard短波辐射方案。</p><p>在有关气溶胶模拟的部分中，我们使用欧洲气溶胶动力学模式MADE/SORGAM以及第二代区域酸沉降模式RADM2。</p><p>观测资料：本文中使用的第一种观测降水CMA是来自中国气象局国家气象信息中心提供（<a href="http://data.cma.cn/%EF%BC%89%E7%9A%84%E9%80%90%E5%B0%8F%E6%97%B6%E9%99%8D%E6%B0%B4%E6%95%B0%E6%8D%AE%E9%9B%86">http://data.cma.cn/）的逐小时降水数据集</a></p><p>使用的第二个观测降水数据GSMaP是来自全球降水观测计划[86]（GPM）最主要的逐小时高分辨率降水产品，选取时间为2008-2015年夏季，空间分辨率为0.1°×0.1°</p><p>本文中使用了2008-2015年6-8月ERA5的逐小时降水数据，用于与WRF-Chem模式模拟的降水结果，以及降水观测数据进行比较。此外，为了对这一段时期的污染和清洁天数进行排序和筛选，我们还使用了2008-2015年6-8月MERRA-2的逐日气溶胶光学厚度（AOD）数据。 </p><p>主要的统计方法：<br>1.均方根误差<br>2.相关性分析<br>3.回归分析<br>4.自助抽样检验<br>5.降水的指标和计算公式<br><img src="/2023/09/18/article1/image.png"></p><ol start="3"><li>WRF模拟与实验对比</li></ol><p>WRF-Chem作为对WRF物理化学模块进行补充的区域气候模式，在发展和改进的同时已经逐渐成为人们认识自然的重要手段。</p><p>在WRF-Chem模式中，每一种物理、化学过程时均对应提供多种不同参数化方案的选择，不同参数化方案在不同地形地貌、初始条件以及不同物理过程中均有着各自的优劣表现，得到较好的试验结果也需要对参数化方案进行适宜的选取和组合。参数化方案仅是对实际物理、化学过程的简化，有其局限性和不可避免的试验误差。（这个其实是最难的，如何使得模拟与实际的观测相符合，让参数化方案与试验误差更小，是问题的关键）</p><p>积云对流参数化试验PC与和显式对流方案模拟EC</p><p> 3.1 积云对流参数化试验PC</p><p>  首先通过观测资料与试验对比确保试验结果的可靠性</p><p>  对比的内容包括：PM2.5浓度、近地面气温、降水、相对湿度。</p><p>  加入实际人为排放的 Exp2_PC 试验模拟的各气象要素均与观测资料较为吻合<br><img src="/2023/09/18/article1/image2.png" alt="WRF-chem试验"></p><p> Exp2_PC与CTL_PC两次试验的结果与观测资料进行对比，方法是二者做差值，更能反应预测的准确性和可靠性。主要是为了验证加入气溶胶辐射效应的模拟是否与真实的数值更接近。<br><img src="/2023/09/18/article1/image3.png" alt="Alt text"></p><p> 总体来看，考虑气溶胶辐射效应的Exp2_PC试验与CTL_PC相比，能更好地模拟出历史气象条件。 </p><p> 显式对流试验EC与观测资料的时空特征对比.<br>  考虑到积云对流参数化方案识别降水过程的简化，以及显式对流模型模拟能够对深层对流进行模拟。（就是将两个方案进行对比呗，两个方案各有优缺点）。</p><p><img src="/2023/09/18/article1/image4.png" alt="Alt text"></p><p>PS：思路首先是两个输入运用积云方案进行对比，然后将显式对流方案与积云方案进行对比。</p><p>将EC和PC的预测值与观测值进行拟合，画散点图，进行拟合直线，分析相关性。降水的相关性肯定是最低的，因为是最难识别的。进行bootstrap显著性检验。</p><p>Bootstrap显著性检验是一种通过重复随机抽样来评估统计推断的方法。 它通过生成大量的数据样本，并在每个样本上重复分析来计算统计推断的可靠性。Bootstrap 的基本思想是：如果观测样本是从母体中随机抽取的，那么它将包含母体的全部的信息，那么我们不妨就把这个观测样本视为 “总体”。可以简单地概括为：既然样本是抽出来的，那我何不从样本中再抽样。</p><p>WRF模拟的指标包括：</p><ol><li><p>2m气温</p></li><li><p>地表向下短波辐射、</p></li><li><p>地表相对湿度</p></li><li><p>近地面PM2.5浓度</p></li><li><p>边界层高度、</p></li><li><p>降水</p></li><li><p>大气层顶向外长波辐射</p></li><li><p>不同排放浓度下夏季降水对参数化对流和显式对流模拟的敏<br>感性研究<br>（研究气溶胶对降水的影响）</p></li></ol><p>首先，气溶胶辐射效应会导致对流降水的减少。大尺度降水在空间上的差异不显著，没有较为一致的结论。<br>总降水是对流降水和大尺度降水之和，总降水在空间上的表现整体与对流降水变化较为一致。</p><p>（估计对流降水是WRF预测的结果，大尺度降水是ERA5等模式资料的结果，总降水是二者之和）</p><p>结论也揭示了对流降水下降是气溶胶辐射效应导致降水减少的最主要降水类型。</p><p>气溶胶光学厚度通常与该地区的可用水分相关，而它们两者都会受到大气环流的强烈影响。</p><p>——————————————————————————————————————</p><p>Impact of Aerosol Radiative Effect on the Diurnal Cycle of Summer Precipitation Over North China: Distinct Results From Simulations With Parameterized Versus Explicit Convection（GRL）</p><p>降水日循环：一个地区的降水倾向于在一天中的特定时间发生(diurnal cycle of  precipitation)</p><p>直接上结论：<br>1.我们首先评估了WRF-Chem模型模拟的北京地区表面PM2.5浓度，那里有许多观测站的数据可用。（首先将WRF预测数据与观测数据进行对比）<br>2.气溶胶使陆地表面变冷，使中低层大气变暖，增加了下午的CIN和CAPE，减少了降水。<br>3.模型分辨率不是影响我们结论的主要问题<br>4.主要使用CMA降水（国家气象观测站），GSMaP降水下载，ERA5数据，MERRA2数据</p><p>有时候还是需要再看一下。</p>]]></content>
    
    
    
    <tags>
      
      <tag>文献阅读</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WRF模式飓风案例-入门</title>
    <link href="/2023/09/04/WRF/"/>
    <url>/2023/09/04/WRF/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>本文主要记录一下首次学习WRF并运行官网案例的全过程。<br>案例如下：<br>飓风Matthew在海地、古巴和巴哈马登陆，然后平行于美国东海岸，造成大面积破坏。</p><p><img src="/2023/09/04/WRF/image-3.png" alt="图片1"></p><p>介绍下WRF的预处理系统（WPS）</p><p>熟悉一下wps三个程序组成模块的作用（为模拟准备输入场）</p><p>（1）geogrid:确定模式区域并把静态地理数据插值到格点。</p><p>（2）ungrib:从GRIB格式的数据中提取气象要素场。</p><p>（3）metgrid:把提取出的气象要素场水平插值到由geogrid确定的网格点上。</p><p>ungrib</p><p>1.建立一个空文件夹DATA，使用命令mkdir DATA</p><p>2.将下载Matthew案例研究数据并放在DATA/目录中。</p><p>3.将Matthew研究数据放入DATA/文件夹中。并进行解压。</p><p>4.查找g2print.exe的位置。一般在WPS\util\g2print.exe,用于生成g2print.log，查看文件信息。</p><p><img src="/2023/09/04/WRF/image-2.png" alt="图片2"></p><p>5.这一段代码前一部分主要是调用g2print.exe查看文件信息，首先找到你的g2print.exe的路径，我的是在：./WPS/util/g2print.exe ，<br>第二部分就是你想要查看的文件所在的路径，这里我的是在： ../WRF/data/matthew/fnl_20161006_00_00.grib2，<br>最后的代码就是生成一个日志文件：&gt;&amp; g2print.log</p><p>命令如下：~/Build_WRF/WPS-4.1/util/g2print.exe ~/Build_WRF/DATA/matthew/fnl_20161006_00_00.grib2 &gt;&amp; g2print.log</p><p>从Build_WRF中，查看g2print.log文件，里面有详细的参数。</p><p><img src="/2023/09/04/WRF/g2printlog.jpg" alt="g2print"></p><p>链接到GFS Vtable上<br>这一步需要用的文件位于：ungrib/Variable_Tables/Vtable.GFS</p><p>代码为：<br>ln -sf ungrib/Variable_Tables/Vtable.GFS Vtable</p><p>需要注意的是，需要将ungrib文件夹在Linux中打开，判断好位置，进行链接。</p><p>使用脚本link_grib.csh链接GRIB数据</p><p>这一步用到的文件位于wps的link_grib.csh文件，需要将我们最开始下载的matthew文件下的所有fnl***.grib2文件进行链接：<br><img src="/2023/09/04/WRF/image-1.png" alt="Alt text"></p><p>代码如下：./link_grib.csh ../DATA/matthew/fnl</p><p>在WPS的文件夹里进行链接，../代表的路径，将创建下面的链接：<br><img src="/2023/09/04/WRF/image-4.png" alt="Alt text"></p><p>下面一步是开始编辑namelist.wps文件，进行过设置。该文件在WPS目录下，修改为：</p><p>max_dom = 1</p><p>start_date = ‘2016-10-06_00:00:00’,<br>end_date = ‘2016-10-08_00:00:00’,<br>interval_seconds = 21600,</p><p>保存后退出。<br>运行ungrib来创建中间文件，ungrib文件还是在WPS路径下，运行./ungrib.exe</p><p><img src="/2023/09/04/WRF/image-5.png" alt="Alt text"></p><ol start="2"><li>Geogrid<br>将陆地数据下载下来，放到WPS/目录中，编辑namelist.wps</li></ol><p>详细的参数设置可以参考这个网页：<a href="https://zhuanlan.zhihu.com/p/517245805%EF%BC%8C%E5%86%99%E7%9A%84%E9%9D%9E%E5%B8%B8%E7%9A%84%E8%AF%A6%E7%BB%86%EF%BC%8C%E9%9D%9E%E5%B8%B8%E7%9A%84%E5%A5%BD%E3%80%82">https://zhuanlan.zhihu.com/p/517245805，写的非常的详细，非常的好。</a></p><p>修改后的namelist.wps是这样：<br>parent_id = 1,</p><p>parent_grid_ratio = 1,</p><p>i_parent_start = 1,</p><p>j_parent_start = 1,</p><p>e_we = 91,</p><p>e_sn = 100,</p><p>geog_data_res = ‘default’,</p><p>dx = 27000,</p><p>dy = 27000,</p><p>map_proj = ‘mercator’,</p><p>ref_lat = 28.00,</p><p>ref_lon = -75.00,</p><p>truelat1 = 30.0,</p><p>truelat2 = 60.0,</p><p>stand_lon = -75.0,</p><p>geog_data_path = ‘path_to_directory/Build_WRF/DATA/WPS_GEOG/‘</p><p>在运行geogrid.exe之前，确保区域位于正确的位置,<br>运行以下代码进行查看：</p><p>ncl util/plotgrids_new.ncl</p><p>图没有画出来，这是由于新电脑不支持x11格式造成的，打开plotgrids.ncl文件，将type=x11注释，改为type=pdf，即可，可以生成pdf。</p><p>参考网站：<a href="https://blog.csdn.net/weixin_43750300/article/details/126544394">https://blog.csdn.net/weixin_43750300/article/details/126544394</a></p><p><img src="/2023/09/04/WRF/image-6.png" alt="Alt text"></p><p>下面开始运行geogrid.exe 来创建这个区域的静态数据，该文件还是处于WPS的目录下。</p><p><img src="/2023/09/04/WRF/image-7.png" alt="Alt text"></p><p>注：这将覆盖任何之前运行的geo_em.d01.nc 文件，所以，如果你想保存旧文件，就把它们保存在其它地方。</p><p>运行代码：./geogrid.exe，出现以下内容表示成功啦：</p><p><img src="/2023/09/04/WRF/image-8.png" alt="Alt text"></p><p>在该文件目录下找个geo_em.d01.nc文件：</p><p><img src="/2023/09/04/WRF/image-9.png" alt="Alt text"></p><p>注意：一般出现的错误为Parsed 28 entries in GEOGRID.TBL<br>Processing domain 1 of 1<br>ERROR: Could not open /home/fang/Build_WRF/DATA/WPS_GEOG/orogwd_10m/con/index</p><p>此时需要检查GEOG里面的安装包，可以去找GEOGRID.log里面有具体的错误，针对不同的情况去下载不同的包，这种问题一般都是包的问题。不要用官网的压缩包，容易出错，需要自己一个一个下载。</p><p>4.下面是第四步，metgrid</p><p>1.插值到模式区域（metgrid.exe）<br>namelist.wps<br>不需要更改（本来就两行，还能改啥），说明下两行的意思吧。io_form_geogrid=2， #geo_em*文件的输出格式，1=Binary，2=netCDF，3=GRIB1，因为 metgrid需要netCDF格式，所以一般设置为2</p><p>2.运行一下，将WPS的文件插值到模式区域上。</p><p>./metgrid.exe</p><p>成功会出现Successful completion of metgrid。</p><p>这一步会创建很多个文件夹：<br><img src="/2023/09/04/WRF/image-10.png"></p><p>终于，以上操作你都完整的完成下来，那么就到了最后，运行WRF模式啦。</p><p>5.Real and WRF（最后一步）</p><ol><li>运行模式（real.exe &amp; wrf.exe）<br>在WRF目录中，在本案例中，将在test/em_real/ 目录中运行。<br>代码如下，不能漏！！<br>cd WRF/test/em_real  </li><li>链接metgrid.exe 创建的met_em 文件，就是刚刚那几个nc文件，代码如下：</li></ol><p> ln -sf ../../../WPS-4.1/met_em.d01.2016-10* .<br> 这个的关键点在于需要进行判断，细心一点应该是可以的。（直接加入路径不就行了，不用这么费劲）</p><p> 编辑namelist.input，也是在em_real文件夹下面</p><p> 编辑内容如下：<br>run_days = 0,<br>run_hours = 48,<br>run_minutes = 0,<br>run_seconds = 0,<br>start_year = 2016,<br>start_month = 10,<br>start_day = 06,<br>start_hour = 00,<br>end_year = 2016,<br>end_month = 10,<br>end_day = 08,<br>end_hour = 00,<br>interval_seconds = 21600<br>input_from_file = .true.,<br>history_interval = 180,<br>frames_per_outfile = 1,<br>restart = .false.,<br>restart_interval = 1440,<br>time_step = 150,<br>max_dom = 1,<br>e_we = 91,<br>e_sn = 100,<br>e_vert = 45,<br>num_metgrid_levels = 32,<br>dx = 27000,<br>dy = 27000,</p><p>运行real.exe (验证程序是否正确运行),这个文件在该目录下：<br>注：这将会覆盖以前运行的wrfinput_d01 和wrfbdy_d01 文件，所以，如果你想保存旧文件，就把它们保存在其他地方。</p><p><img src="/2023/09/04/WRF/image-11.png" alt="Alt text"><br>我的理解是，它在一圈一圈的计算，我还以为是错了的。<br>如果是错了，需要输入命令tail rsl.error.0000进行查看</p><p>最后一步啦（马上完结，撒花）：<br>运行./wrf.exe</p><p>然后坐等计算结束。</p><p>当然，事情远没有想象的那么简单。可能会出现这样的错误：<br><img src="/2023/09/04/WRF/image-12.png" alt="Alt text"></p><p>原因可能是网格数和网格大小的问题。<br>“减小网格数或网格大小，我原本用的3.9.1，网格3000米，改到3.7.1环境下报错，我把网格改成5000米，成功。<br>再移到3.6.1，5000米仍然报错。于是修改步长，改180为60，成功。”</p><p>所以，我将150的步长网格改成100，可以进行计算了。</p><p>后记：<br>路漫漫其修远兮，吾将上下而求索。<br>这是入门阶段，不知道还要踩多少坑。不过，花了2天时间的摸索，感觉里面的思路和方法有所熟悉和了解，收获还是挺大的。<br>继续看userguide和WRF的书，了解里面的更具体的参数及模式方案。还有就是一定要细心和认真，里面的一个参数输入错了，就会导致结果出现问题，一定要小心小心再小心。</p>]]></content>
    
    
    
    <tags>
      
      <tag>WRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>欢迎来到我的碎碎念</title>
    <link href="/2023/09/04/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    <url>/2023/09/04/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E7%A2%8E%E7%A2%8E%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>“Hello World”</p><p>这是我的第一篇文章。</p><p>心血来潮突然想开通一个属于自己的博客。于是花费了一下午加一个晚上的时间。</p><p>这是一个只属于自己的私人空间，估计也没有多少人看。当然这样是最好的。好多事情不想让太多的人知道。</p><p>这里以后会更新自己的科研进展、正面和负面的情绪，以及自己对生活、电影和文章的感想，记录下生活的点滴和美好。</p>]]></content>
    
    
    
    <tags>
      
      <tag>生活闲话</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
